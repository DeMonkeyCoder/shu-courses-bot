import requests
import urllib.request
import time
import json
import bs4
import os
from bs4 import BeautifulSoup

"""
    To generate request headers and data:
        1. open developer tools in browser
        1. navigate to page
        2. track requests in network tab and copy as cURL
        3. use https://curl.trillworks.com/ to generate python requests
"""

SEMESTER = '13981'

try:
    os.stat(SEMESTER)
except:
    os.mkdir(SEMESTER)

def get_departments():
    print('Getting Departments')
    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'none',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=0luus3cr2k2kszdq0tlew2gr',
    }

    response = requests.get('https://sess.shirazu.ac.ir/Sess/3022764645282', headers=headers)

    soup = BeautifulSoup(response.text, "html.parser")

    departments = []
    dep_select = soup.find("select", {'id': "edDepartment"})
    for dep_option in dep_select.contents:
        if dep_option == '\n' or dep_option['value'] == '0':
            continue
        departments.append({
            'id': dep_option['value'],
            'title': dep_option.text,
        })
    f = open('departments' + SEMESTER + '.txt', 'w')
    f.write(json.dumps(departments))
    f.close()

def get_department_courses(departmentId, dep_progress):

    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'origin': 'https://sess.shirazu.ac.ir',
        'upgrade-insecure-requests': '1',
        'content-type': 'application/x-www-form-urlencoded',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3022764645282',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=0troshsbnez52btci1q1ta1x',
    }

    data = {
    '__VIEWSTATE': '/wEPDwUKLTMzODEzMDYyOQ9kFgICAQ9kFgYCAQ9kFgoCBQ8WAh4JaW5uZXJodG1sBSvYudmE2Yog2YXZh9iv2Yog2YrYp9ixICAq2YbYsdmFINin2YHYstin2LEqZAIHDxYCHwAFTtin2KrYtdin2YQg2KfYsiDYt9ix2YrZgjrYtNio2qnZhyDYr9in2K7ZhNmKLdin2YrZhtiq2LHZhtiqICjYtNio2qnZhyBXQU4tMTUxKWQCCQ9kFgICAQ9kFgJmDxYCHwAFBtu127jbsWQCCw8WAh4HVmlzaWJsZWhkAg0PFgIfAAUZPGI+27Hbs9u527gv27DbtS/bs9uxPC9iPmQCAw8QZBAVrwECLS0N2K/ZiNmFIC0gMTM5OA3Yp9mI2YQgLSAxMzk4Fdiq2KfYqNiz2KrYp9mGIC0gMTM5OA3Yr9mI2YUgLSAxMzk3Ddin2YjZhCAtIDEzOTcV2KrYp9io2LPYqtin2YYgLSAxMzk3Ddiv2YjZhSAtIDEzOTYN2KfZiNmEIC0gMTM5NhXYqtin2KjYs9iq2KfZhiAtIDEzOTYN2K/ZiNmFIC0gMTM5NQ3Yp9mI2YQgLSAxMzk1Fdiq2KfYqNiz2KrYp9mGIC0gMTM5NQ3Yr9mI2YUgLSAxMzk0Ddin2YjZhCAtIDEzOTQV2KrYp9io2LPYqtin2YYgLSAxMzk0Ddiv2YjZhSAtIDEzOTMN2KfZiNmEIC0gMTM5MxXYqtin2KjYs9iq2KfZhiAtIDEzOTMN2K/ZiNmFIC0gMTM5Mg3Yp9mI2YQgLSAxMzkyFdiq2KfYqNiz2KrYp9mGIC0gMTM5Mg3Yr9mI2YUgLSAxMzkxDdin2YjZhCAtIDEzOTEV2KrYp9io2LPYqtin2YYgLSAxMzkxDdiv2YjZhSAtIDEzOTAN2KfZiNmEIC0gMTM5MBXYqtin2KjYs9iq2KfZhiAtIDEzOTAN2K/ZiNmFIC0gMTM4OQ3Yp9mI2YQgLSAxMzg5Fdiq2KfYqNiz2KrYp9mGIC0gMTM4OQ3Yr9mI2YUgLSAxMzg4Ddin2YjZhCAtIDEzODgV2KrYp9io2LPYqtin2YYgLSAxMzg4Ddiv2YjZhSAtIDEzODcN2KfZiNmEIC0gMTM4NxXYqtin2KjYs9iq2KfZhiAtIDEzODcN2K/ZiNmFIC0gMTM4Ng3Yp9mI2YQgLSAxMzg2Fdiq2KfYqNiz2KrYp9mGIC0gMTM4Ng3Yr9mI2YUgLSAxMzg1Ddin2YjZhCAtIDEzODUV2KrYp9io2LPYqtin2YYgLSAxMzg1Ddiv2YjZhSAtIDEzODQN2KfZiNmEIC0gMTM4NBXYqtin2KjYs9iq2KfZhiAtIDEzODQN2K/ZiNmFIC0gMTM4Mw3Yp9mI2YQgLSAxMzgzFdiq2KfYqNiz2KrYp9mGIC0gMTM4Mw3Yr9mI2YUgLSAxMzgyDdin2YjZhCAtIDEzODIV2KrYp9io2LPYqtin2YYgLSAxMzgyDdiv2YjZhSAtIDEzODEN2KfZiNmEIC0gMTM4MRXYqtin2KjYs9iq2KfZhiAtIDEzODEN2K/ZiNmFIC0gMTM4MA3Yp9mI2YQgLSAxMzgwFdiq2KfYqNiz2KrYp9mGIC0gMTM4MA3Yr9mI2YUgLSAxMzc5Ddin2YjZhCAtIDEzNzkV2KrYp9io2LPYqtin2YYgLSAxMzc5Ddiv2YjZhSAtIDEzNzgN2KfZiNmEIC0gMTM3OBXYqtin2KjYs9iq2KfZhiAtIDEzNzgN2K/ZiNmFIC0gMTM3Nw3Yp9mI2YQgLSAxMzc3Fdiq2KfYqNiz2KrYp9mGIC0gMTM3Nw3Yr9mI2YUgLSAxMzc2Ddin2YjZhCAtIDEzNzYV2KrYp9io2LPYqtin2YYgLSAxMzc2Ddiv2YjZhSAtIDEzNzUN2KfZiNmEIC0gMTM3NRXYqtin2KjYs9iq2KfZhiAtIDEzNzUN2K/ZiNmFIC0gMTM3NA3Yp9mI2YQgLSAxMzc0Fdiq2KfYqNiz2KrYp9mGIC0gMTM3NA3Yr9mI2YUgLSAxMzczDdin2YjZhCAtIDEzNzMV2KrYp9io2LPYqtin2YYgLSAxMzczDdiv2YjZhSAtIDEzNzIN2KfZiNmEIC0gMTM3MhXYqtin2KjYs9iq2KfZhiAtIDEzNzIN2K/ZiNmFIC0gMTM3MQ3Yp9mI2YQgLSAxMzcxFdiq2KfYqNiz2KrYp9mGIC0gMTM3MQ3Yr9mI2YUgLSAxMzcwDdin2YjZhCAtIDEzNzAV2KrYp9io2LPYqtin2YYgLSAxMzcwDdiv2YjZhSAtIDEzNjkN2KfZiNmEIC0gMTM2ORXYqtin2KjYs9iq2KfZhiAtIDEzNjkN2K/ZiNmFIC0gMTM2OA3Yp9mI2YQgLSAxMzY4Fdiq2KfYqNiz2KrYp9mGIC0gMTM2OA3Yr9mI2YUgLSAxMzY3Ddin2YjZhCAtIDEzNjcV2KrYp9io2LPYqtin2YYgLSAxMzY3Ddiv2YjZhSAtIDEzNjYN2KfZiNmEIC0gMTM2NhXYqtin2KjYs9iq2KfZhiAtIDEzNjYN2K/ZiNmFIC0gMTM2NQ3Yp9mI2YQgLSAxMzY1Fdiq2KfYqNiz2KrYp9mGIC0gMTM2NQ3Yr9mI2YUgLSAxMzY0Ddin2YjZhCAtIDEzNjQV2KrYp9io2LPYqtin2YYgLSAxMzY0Ddiv2YjZhSAtIDEzNjMN2KfZiNmEIC0gMTM2MxXYqtin2KjYs9iq2KfZhiAtIDEzNjMN2K/ZiNmFIC0gMTM2Mg3Yp9mI2YQgLSAxMzYyFdiq2KfYqNiz2KrYp9mGIC0gMTM2Mg3Yr9mI2YUgLSAxMzYxDdin2YjZhCAtIDEzNjEV2KrYp9io2LPYqtin2YYgLSAxMzYxDdiv2YjZhSAtIDEzNjAN2KfZiNmEIC0gMTM2MBXYqtin2KjYs9iq2KfZhiAtIDEzNjAN2K/ZiNmFIC0gMTM1OQ3Yp9mI2YQgLSAxMzU5Fdiq2KfYqNiz2KrYp9mGIC0gMTM1OQ3Yr9mI2YUgLSAxMzU4Ddin2YjZhCAtIDEzNTgV2KrYp9io2LPYqtin2YYgLSAxMzU4Ddiv2YjZhSAtIDEzNTcN2KfZiNmEIC0gMTM1NxXYqtin2KjYs9iq2KfZhiAtIDEzNTcN2K/ZiNmFIC0gMTM1Ng3Yp9mI2YQgLSAxMzU2Fdiq2KfYqNiz2KrYp9mGIC0gMTM1Ng3Yr9mI2YUgLSAxMzU1Ddin2YjZhCAtIDEzNTUV2KrYp9io2LPYqtin2YYgLSAxMzU1Ddiv2YjZhSAtIDEzNTQN2KfZiNmEIC0gMTM1NBXYqtin2KjYs9iq2KfZhiAtIDEzNTQN2K/ZiNmFIC0gMTM1Mw3Yp9mI2YQgLSAxMzUzFdiq2KfYqNiz2KrYp9mGIC0gMTM1Mw3Yr9mI2YUgLSAxMzUyDdin2YjZhCAtIDEzNTIV2KrYp9io2LPYqtin2YYgLSAxMzUyDdiv2YjZhSAtIDEzNTEN2KfZiNmEIC0gMTM1MRXYqtin2KjYs9iq2KfZhiAtIDEzNTEN2K/ZiNmFIC0gMTM1MA3Yp9mI2YQgLSAxMzUw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2Yog2YXYrtin2KjYsdin2Kog2Ygg2KfZhNmD2KrYsdmI2YbZitmDD9io2K7YtCDZhdmI2KfYrxzYqNiu2LQg2LTZitmF2Yog2YXZh9mG2K/Ys9mKEdio2K7YtCDYudmF2LHYp9mGGtio2K7YtCDYstmK2LPYqiDYtNmG2KfYs9mKHNio2K7YtCDYstmF2YrZgNmGINi02YbYp9iz2YoR2KjYrti0INix2YrYp9i22YoP2KjYrti0INin2YXYp9ixD9io2K7YtCDYtNmK2YXZihHYqNiu2LQg2YHZitiy2YrZgyTYqNiu2LQg2KfZgtmA2KrYtdin2K/ZhdmG2K3ZhCDYtNiv2Ycu2KjYrti0INio2YDYsdmG2KfZhdmHINix2YrYstmKINmF2YbYrdmEINi02K/ZhxPYqNiu2LQg2KrZgNin2LHZitiuK9io2K7YtCDYsdmI2KfZhti02YbZgNin2LPZiiDZhdmG2K3ZhCDYtNiv2Ycr2KjYrti0INiy2KjZgNin2YYg2YjYp9iv2KjZitin2Kog2YHYp9ix2LPZijjYqNiu2LQg2LLYqNmA2KfZhtmH2KfZiiDYrtin2LHYrNmKINmI2LLYqNin2YYg2LTZhtin2LPZijLYqNiu2LQg2LnZhNmA2YjZhSDZg9iq2KfYqNiv2KfYsdmKINmF2YbYrdmEINi02K/ZhzjYqNiu2LQg2YXYr9mK2YDYsdmK2Kog2YjYrdiz2KfYqNiv2KfYsdmKINmF2YbYrdmEINi02K/ZhynYqNiu2LQgINiy2KjYp9mGINmIINin2K/YqNmK2KfYqiDYudix2KjZihXYqNiu2LQg2KzYutix2KfZgdmK2Kcq2KjYrti0INmB2YTYs9mB2Ycg2Ygg2YPZhNin2YUg2KfYs9mE2KfZhdmKJNio2K7YtCDYudmE2YjZhSDZgtix2KLZhtmKINmIINmB2YLZhyTYqNiu2LQg2LnZhNmI2YUg2Ygg2YXZh9mG2K/Ys9mKINii2Kge2KjYrti0INi52YTZiNmFINio2KfYutio2KfZhtmKJtio2K7YtCDYudmE2YjZhSDZiCDZhdmH2YbYr9iz2Yog2K7Yp9mDK9io2K7YtCDYstix2KfYudiqINmI2KfYtdmE2KfYrSDZhtio2KfYqtin2KoZ2KjYrti0INqv2YrYp9mH2b7Ysti02YPZiiHYqNiu2LQg2KfZgtiq2LXYp9iv2YPYtNin2YjYsdiy2Yot2KjYrti0INiq2LHZiNmK2Kwg2YjYp9mF2YjYsti0INmD2LTYp9mI2LHYstmKGtio2K7YtCDYudmE2YDZiNmFINiv2KfZhdmKNdio2K7YtCDYudmE2YjZhSDZiCDZhdmH2YbYr9iz2Yog2LXZhtin2YrYuSDYutiw2KfZitmKJNio2K7YtCDZhdmH2YbYr9iz2Yog2KjZitmI2LPZitiz2KrZhT7YqNiu2LQg2YXZh9mG2K/Ys9mKINmF2YbYp9io2Lkg2LfYqNmK2LnZiiDZiCDZhdit2YrYtyDYstmK2LPYqh3YqNiu2LQg2KjZitmI2KraqdmG2YjZhNmI2pjZiibYqNiu2LQg2LHZiNin2YbYtNmG2KfYs9mKINiq2LHYqNmK2KrZijjYqNiu2LQg2YXYr9mK2LHZitiqINmI2KjYsdmG2KfZhdmHINix2YrYstmKINin2YXZiNiy2LTZij/YqNiu2LQg2KfZhdmI2LLYtCDZiNm+2LHZiNix2LQg2K/YqNiz2KrYp9mG2Yog2YjZviDYr9io2LPYqtin2YYk2KjYrti0INmD2YjYr9mD2KfZhiDYp9iz2KrYq9mG2KfZitmKGtio2K7YtCDYqtix2KjZitiqINio2K/ZhtmKHtio2K7YtCDYudmE2YjZhSDYqtmA2LHYqNmK2KrZihvYqNiu2LQg2LHZiNin2YbYtNmG2YDYp9iz2Yoo2KjYrti0ICrYqtix2KjZgNmK2Kog2KjYr9mG2Yog2LTYqNin2YbZhynYqNiu2LQg2YXYqNin2YbZiiDYqti52YTZitmFINmI2KrYsdio2YrYqjPYqNiu2LQg2LnZhNmFINin2LfZhNin2LnYp9iqINmIINiv2KfZhti0INi02YbYp9iz2Yod2KjYrti0INm+2KfYqtmI2KjZitmI2YTZiNqY2YoY2KjYrti0INi52YTZiNmFINm+2KfZitmHItio2K7YtCDYudmE2YjZhSDYr9ix2YXYp9mG2q/Yp9mH2YoT2KjYrti0INio2YfYr9in2LTYqhfYqNiu2LQg2K/Yp9mF2b7Ysti02YPZiijYqNiu2LQg2YXYr9mK2LHZitiqICDYqNmH2K/Yp9i02Kog2K/Yp9mFKNio2K7YtCDZg9in2LHYr9in2YbZiiDYp9mE2YPYqtix2YjZhtmK2YM92KjYrti0INmD2KfYsdi02YbYp9iz2YDZiiDZhtin2b7ZitmI2LPYqtmHINin2YTZg9iq2LHZiNmG2YrZgzPYqNiu2LQg2YPYp9ix2K/Yp9mG2Yog2LTYqNin2YbZhyDYp9mE2YPYqtix2YjZhtmK2YNA2KjYrti0INmD2KfYsdi02YbYp9iz2Yog2LTYqCDZhtin2b7ZitmI2LPYqtmHINin2YTZg9iq2LHZiNmG2YrZgybYqNiu2LQg2YPZhtiq2LHZhCDZiNin2KjYstin2LHYr9mC2YrZgg/YqNiu2LQg2K3ZgtmI2YIa2KjYrti0INit2YLZiNmCINi02KjYp9mG2Yca2KjYrti0INit2YLZiNmCINi52YXZiNmF2Yoa2KjYrti0INit2YLZiNmCINiu2LXZiNi12Yoh2KjYrti0INit2YLZiNmCINio2YrZhiDYp9mE2YXZhNmEGtio2K7YtCDYudmE2YjZhSDYs9mK2KfYs9mKItio2K7YtCDYrNiy2Kcg2Ygg2KzYsdmFINi02YbYp9iz2YoR2KjYrti0INmK2KfYs9mI2Kwe2KjYrti0INiq2YjZhNmK2K/Yp9iqINiv2KfZhdmKE9io2K7YtCDZhdi52YXYp9ix2YoN2KjYrti0INmH2YbYsRXYqNiu2LQg2LTZh9ix2LPYp9iy2Yog2KjYrti0INin2LHYqtio2KfYtyDYqti12YjZitix2YoN2KjYrti0INmB2LHYtBPYqNiu2LQg2KfZgtiq2LXYp9ivHtio2K7YtCDYudmE2YjZhSDYp9is2KrZhdin2LnZihTYqNiu2LQg2YXYr9mK2LHZitiqIBfYqNiu2LQg2K3Ys9in2KjYr9in2LHZihXYqNiu2LQg2KzYutix2KfZgdmK2Kcc2KjYrti0INmF2YfZhtiv2LPZiiDYtNmK2YXZihrYqNiu2LQg2YXZh9mG2K/Ys9mKINmG2YHYqhrYqNiu2LQg2YXZh9mG2K/Ys9mKINqv2KfYsiDYqNiu2LQg2YXZh9mF2KfZhiDYqtin2KjYs9iq2KfZhiDYqNiu2LQg2K/Yp9mG2LTar9in2Ycg2LTZitix2KfYshrYqNiu2LQg2LnZhNmI2YUg2b7Ysti02qnZihjYqNiu2LQg2KjYr9mI2YYg2LHYtNiq2Ycl2KjYrti0INmG2KfZhtmIINmF2YfZhtiv2LPZiiDYtNmK2YXZiijYqNiu2LQg2YbYp9mG2YjZhdmH2YbYr9iz2Yog2YXaqdin2YbZitqpJNio2K7YtCDZhdiv2YrYsdmK2Kog2KzZh9in2Ybar9ix2K/Zii3YqNiu2LQg2YXZh9mG2K/Ys9mKINmF2YPYp9mG2YrZgyDYrNin2YXYr9in2Ko72KjYrti0INmF2YfZhtiv2LPZiiDZhdmD2KfZhtmK2YMg2K3Ysdin2LHYqiDZiCDYs9mK2KfZhNin2Kov2KjYrti0INmF2YfZhtiv2LPZiiDYp9mG2LHamNmKINmIINmH2YjYpyDZgdi22Kch2KjYrti0INmF2YfZhtiv2LPZiiDZh9iz2KrZhyDYp9mKKtio2K7YtCDZgdmE2LPZgdmHINmIINmD2YTYp9mFINin2LPZhNin2YXZiiLYqNiu2LQg2LnZhNmI2YUg2YLYsdii2YYg2Ygg2YHZgtmHHtio2K7YtCDZhdi52KfYsdmBINin2LPZhNin2YXZiiHYqNiu2LQg2LPYp9iy2Ycg2Ygg2b7Ziti02LHYp9mG2LQo2KjYrti0INmH2YrYr9ix2Ygg2KfZitix2YjYr9mK2YbYp9mF2YraqR/YqNiu2LQg2YfYr9in2YrYqiDZiCDaqdmG2KrYsdmEP9io2K7YtCDZhdix2qnYsiDYqtit2YLZitmC2KfYqiDYrdmF2YQg2Ygg2YbZgtmEINmIINiq2LHYp9mB2YraqSfYqNiu2LQg2YPYtNin2YjYsdiy2Yog2YDYr9in2LHYp9ioINmA2YIt2KjYrti0INiq2YjZhNmK2K/Yp9iqINqv2YrYp9mH2Yog2YDYr9in2LHYp9ioM9io2K7YtCDYqtmD2YbZgNmI2YTZiNqY2Yog2KfYqNmK2KfYsdmKINmA2K/Yp9ix2KfYqDXYqNiu2LQg2KrZg9mG2YjZhNmI2pjZiiDZhdix2KrYuSDZiNin2KjYrtmK2LLYr9in2LHZihjYqNiu2LQg2LnZhNmI2YUg2b7Yp9mK2Ycd2KjYrti0INin2q/YsdmI2KfaqdmI2YTZiNqY2Yoh2KjYrti0INmB2KfYsdiz2Yog2YAg2YPYp9iy2LHZiNmGINio2K7YtCDZgdmK2LLZitqpIC0g2qnY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2Ygg2KfZhtix2pjZijvYqNiu2LQg2YXZh9mG2K/Ys9mKINmF2qnYp9mG2YraqSDYrdix2KfYsdiqINmIINiz2YrYp9mE2KfYqh3YqNiu2LQg2YLYr9ix2Kog2Ygg2YPZhtiq2LHZhA3YqNiu2LQg2YfZhtixJ9io2K7YtCDZhdiv2YrYsdmK2Kog2KjZh9iv2KfYtNiqINiv2KfZhSLYqNiu2LQg2YXYr9mK2LHZitiqICjYp9mF2KfYsdin2KopNNio2K7YtCDYsdmI2KfZhti02YbYp9iz2Yog2KjYp9mE2YrZhtmKKNin2YXYp9ix2KfYqik52KjYrti0INiy2KjYp9mGINmIINin2K/YqNmK2KfYqiDZgdin2LHYs9mKICjYp9mF2KfYsdin2KopJdio2K7YtCDYrdiz2KfYqNiv2KfYsdmKKNin2YXYp9ix2KfYqik12KjYrti0INix2YjYp9mG2LTZhtin2LPZiiDYqtix2KjZitiq2YogKNin2YXYp9ix2KfYqike2KjYrti0INit2YLZiNmCICjYp9mF2KfYsdin2KopPtio2K7YtCDYrdmC2YjZgiDYudmF2YjZhdmKINmIINio2YrZhiDYp9mE2YXZhNmEICjYp9mF2KfYsdin2KopMtio2K7YtCDYqNix2YIg2Ygg2KfZhNmD2KrYsdmI2YbZitmDICjYp9mF2KfYsdin2KopMNio2K7YtCDYstio2KfZhiDZh9in2Yog2K7Yp9ix2KzZiiAo2KfZhdin2LHYp9iqKTLYqNiu2LQg2YXZh9mG2K/Ys9mKINqp2KfZhdm+2YrZiNiq2LEo2KfZhdin2LHYp9iqKS7YqNiu2LQg2YXZh9mG2K/Ys9mKINmF2LnZhdin2LHZiijYp9mF2KfYsdin2KopL9io2K7YtCDZhdiv2YrYsdmK2Kog2KLZhdmI2LLYtNmKICjYp9mF2KfYsdin2KopItio2K7YtCDYp9mC2KrYtdin2K8gKNin2YXYp9ix2KfYqikg2KjYrti0INi52YXYsdin2YYgKNin2YXYp9ix2KfYqikk2KjYrti0INit2YLZiNmCINis2LLYpyjYp9mF2KfYsdin2KopH9io2K7YtCDYudmF2YjZhdmKKNin2YXYp9ix2KfYqikR2KjYrti0INi52YXZiNmF2YoP2KjYrti0INit2YLZiNmCDdio2K7YtCDYqNix2YIm2KjYrti0INiq2YPZhtmI2YTZiNqY2Yog2KfYt9mE2KfYudin2KoX2KjYrti0INqp2KfZhdm+2YrZiNiq2LEg2KjYrti0INiy2KjYp9mG2YfYp9mKINiu2KfYsdis2Yok2KjYrti0INmF2K/Zitix2YrYqiDYrNmH2KfZhtqv2LHYr9mKHtio2K7YtCDYudmE2YjZhSDYp9mC2KrYtdin2K/ZihW+AQEwBDI5MDMEMjkwMQQyOTAyBDEwMDIEMTAwMwQxMDA0BDExMDEEMTEwMgQxMTAzBDExMDQEMTEwNQQxMTA2BDEyMDEEMTIwMgQxMjAzBDEyMDQEMTIwNQQxMjA2BDEyMDcEMTIwOAQxMjEwBDEyMTEEMTIxMgQxMjEzBDEzMDEEMTMwMgQxMzAzBDEzMDQEMTMwNQQxMzA2BDEzMDcEMTMwOAQxMzA5BDEzMTAEMTMxMQQxMzEyBDE0MDEEMTQwMgQxNDAzBDE0MDQEMTQwNQQxNDA2BDE0MDcEMTQwOAQxNDA5BDE0MTAEMTUwMQQxNTAyBDE1MDMEMTUwNAQxNTA1BDE1MDYEMTYwMQQxNjAyBDE2MDMEMTYwNAQxNjA1BDE3MDEEMTcwMgQxNzAzBDE3MDQEMTcwNQQxNzA2BDE3MDcEMTgwMQQxOTAxBDIyMDEEMjIwMgQyMjAzBDIyMDQEMjIwNQQyMzAxBDIzMDIEMjMwMwQyMzA0BDIzMDUEMjQwMQQyNDAyBDI0MDMEMjUwMQQyODAxBDI4MDIEMjgwMwQzMDAxBDMwMDIEMzEwMQQzMjAxBDMyMDIEMzIwMwQzMjA0BDM0MDEEMzQwMgQzNDAzBDM1MDEEMzUwMgQzNTAzBDM2MDEEMjAwMQQyMDAyBDIwMDMEMjAwNAQyMDA1BDIwMDYEMjEwMQQyMTAyBDIxMDMEMjYwMQQyNjAyBDI2MDMEMjYwNAQyNjA1BDI2MDYEMjYwNwQyNjA4BDI2MDkEMjYxMAQyNjExBDI2MTIEMjYxMwQyNjE0BDI2MTUEMjYxNgQyNjE3BDI2MTgEMjYxOQQyNjIwBDI2MjEEMjYyMgQyNjIzBDI2MjQEMjYyNQQyNjI2BDI2MjcEMjYyOAQyNjI5BDI2MzAEMjYzMQQyNjMyBDI2MzMEMjYzNAQyNjM1BDI2MzYEMjYzNwQyNjM4BDI2MzkEMjY0MAQyNjQxBDI2NDIEMjY0MwQyNjQ0BDI2NDUEMjY0NgQyNjQ3BDI2NDgEMjY0OQQyNjUwBDI2NTEEMjY1MgQyNjUzBDI2NTQEMjY1NQQyNjU2BDI2NTcEMjY1OAQyNjU5BDMzMDEEMzMwMgQzMzAzBDMzMDQEMzMwNQQzMzA2BDMzMDcEMzMwOAQzMzA5BDMzMTAEMzMxMQQzMzEyBDMzMTMEMzMxNAQzMzE1BDMzMTYEMjcwMQQyNzAyBDI3MDMEMjcwNAQyNzA1BDI3MDYEMjcwNwQyNzA4FCsDvgFnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZGRkCMSaMDymCy3exluBGCaxe8h99HLAcQLFIh+kA1OpDkU=',
    '__VIEWSTATEGENERATOR': 'D02604AD',
    '__EVENTVALIDATION': '/wEdAAUAToFIqsv0eQxTsBn+0vdj6/R1CdSTRgr1D4vCUegGUZFB0O/9E5xLpcfo0i3k0CuMtpATfle4RqQS6XMgMUtAS1f8aOOWPGzSVWaY7KNHgDOZ/IM2wT2L0J/JoDtbbHI15ztUSAMrfKjRdDGqOQTK',
    'Banner1:zzChanel': '',
    'edSemester': SEMESTER,
    'edDepartment': departmentId,
    'Channel': 'Act=List;'
    }

    response = requests.post('https://sess.shirazu.ac.ir/Sess/3022764645282', headers=headers, data=data)


    soup = BeautifulSoup(response.text, "html.parser")
    courses_div = soup.find("div", {'id': "edList"})
    dep_courses = {}
    for course_tr in courses_div.contents:
        if course_tr == '\n':
            continue
        dep_courses[course_tr['ident']] = {
            'title': course_tr.contents[3].text,
            'group': course_tr['ident'].split('^')[1],
        }
    
    # Get department course times
    i = 0
    for course_ident in dep_courses.keys():
        print(str(i) + '/' + str(len(dep_courses)), dep_progress)
        dep_courses[course_ident].update(get_course_time_room(course_ident, departmentId))
        i += 1
    f = open(SEMESTER + '/' + departmentId + '.txt', 'w')
    f.write(json.dumps(dep_courses))
    f.close()

def get_courses():
    print('Getting Courses')
    f = open('departments' + SEMESTER + '.txt', 'r')
    departments = json.loads(f.read())
    f.close()
    
    for dep_index in range(0,len(departments)):
        dep_progress = str(dep_index) + '/' + str(len(departments))
        get_department_courses(departments[dep_index]['id'], dep_progress)

        

def set_session_course(courseIdent, departmentId):

    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'origin': 'https://sess.shirazu.ac.ir',
        'upgrade-insecure-requests': '1',
        'content-type': 'application/x-www-form-urlencoded',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3022764645282',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=0troshsbnez52btci1q1ta1x',
    }

    data = {
    '__VIEWSTATE': '/wEPDwUKLTMzODEzMDYyOQ9kFgICAQ9kFgYCAQ9kFgoCBQ8WAh4JaW5uZXJodG1sBSvYudmE2Yog2YXZh9iv2Yog2YrYp9ixICAq2YbYsdmFINin2YHYstin2LEqZAIHDxYCHwAFTtin2KrYtdin2YQg2KfYsiDYt9ix2YrZgjrYtNio2qnZhyDYr9in2K7ZhNmKLdin2YrZhtiq2LHZhtiqICjYtNio2qnZhyBXQU4tMTUxKWQCCQ9kFgICAQ9kFgJmDxYCHwAFBtu127jbsWQCCw8WAh4HVmlzaWJsZWhkAg0PFgIfAAUZPGI+27Hbs9u527gv27DbtS/bs9uxPC9iPmQCAw8QZBAVrwECLS0N2K/ZiNmFIC0gMTM5OA3Yp9mI2YQgLSAxMzk4Fdiq2KfYqNiz2KrYp9mGIC0gMTM5OA3Yr9mI2YUgLSAxMzk3Ddin2YjZhCAtIDEzOTcV2KrYp9io2LPYqtin2YYgLSAxMzk3Ddiv2YjZhSAtIDEzOTYN2KfZiNmEIC0gMTM5NhXYqtin2KjYs9iq2KfZhiAtIDEzOTYN2K/ZiNmFIC0gMTM5NQ3Yp9mI2YQgLSAxMzk1Fdiq2KfYqNiz2KrYp9mGIC0gMTM5NQ3Yr9mI2YUgLSAxMzk0Ddin2YjZhCAtIDEzOTQV2KrYp9io2LPYqtin2YYgLSAxMzk0Ddiv2YjZhSAtIDEzOTMN2KfZiNmEIC0gMTM5MxXYqtin2KjYs9iq2KfZhiAtIDEzOTMN2K/ZiNmFIC0gMTM5Mg3Yp9mI2YQgLSAxMzkyFdiq2KfYqNiz2KrYp9mGIC0gMTM5Mg3Yr9mI2YUgLSAxMzkxDdin2YjZhCAtIDEzOTEV2KrYp9io2LPYqtin2YYgLSAxMzkxDdiv2YjZhSAtIDEzOTAN2KfZiNmEIC0gMTM5MBXYqtin2KjYs9iq2KfZhiAtIDEzOTAN2K/ZiNmFIC0gMTM4OQ3Yp9mI2YQgLSAxMzg5Fdiq2KfYqNiz2KrYp9mGIC0gMTM4OQ3Yr9mI2YUgLSAxMzg4Ddin2YjZhCAtIDEzODgV2KrYp9io2LPYqtin2YYgLSAxMzg4Ddiv2YjZhSAtIDEzODcN2KfZiNmEIC0gMTM4NxXYqtin2KjYs9iq2KfZhiAtIDEzODcN2K/ZiNmFIC0gMTM4Ng3Yp9mI2YQgLSAxMzg2Fdiq2KfYqNiz2KrYp9mGIC0gMTM4Ng3Yr9mI2YUgLSAxMzg1Ddin2YjZhCAtIDEzODUV2KrYp9io2LPYqtin2YYgLSAxMzg1Ddiv2YjZhSAtIDEzODQN2KfZiNmEIC0gMTM4NBXYqtin2KjYs9iq2KfZhiAtIDEzODQN2K/ZiNmFIC0gMTM4Mw3Yp9mI2YQgLSAxMzgzFdiq2KfYqNiz2KrYp9mGIC0gMTM4Mw3Yr9mI2YUgLSAxMzgyDdin2YjZhCAtIDEzODIV2KrYp9io2LPYqtin2YYgLSAxMzgyDdiv2YjZhSAtIDEzODEN2KfZiNmEIC0gMTM4MRXYqtin2KjYs9iq2KfZhiAtIDEzODEN2K/ZiNmFIC0gMTM4MA3Yp9mI2YQgLSAxMzgwFdiq2KfYqNiz2KrYp9mGIC0gMTM4MA3Yr9mI2YUgLSAxMzc5Ddin2YjZhCAtIDEzNzkV2KrYp9io2LPYqtin2YYgLSAxMzc5Ddiv2YjZhSAtIDEzNzgN2KfZiNmEIC0gMTM3OBXYqtin2KjYs9iq2KfZhiAtIDEzNzgN2K/ZiNmFIC0gMTM3Nw3Yp9mI2YQgLSAxMzc3Fdiq2KfYqNiz2KrYp9mGIC0gMTM3Nw3Yr9mI2YUgLSAxMzc2Ddin2YjZhCAtIDEzNzYV2KrYp9io2LPYqtin2YYgLSAxMzc2Ddiv2YjZhSAtIDEzNzUN2KfZiNmEIC0gMTM3NRXYqtin2KjYs9iq2KfZhiAtIDEzNzUN2K/ZiNmFIC0gMTM3NA3Yp9mI2YQgLSAxMzc0Fdiq2KfYqNiz2KrYp9mGIC0gMTM3NA3Yr9mI2YUgLSAxMzczDdin2YjZhCAtIDEzNzMV2KrYp9io2LPYqtin2YYgLSAxMzczDdiv2YjZhSAtIDEzNzIN2KfZiNmEIC0gMTM3MhXYqtin2KjYs9iq2KfZhiAtIDEzNzIN2K/ZiNmFIC0gMTM3MQ3Yp9mI2YQgLSAxMzcxFdiq2KfYqNiz2KrYp9mGIC0gMTM3MQ3Yr9mI2YUgLSAxMzcwDdin2YjZhCAtIDEzNzAV2KrYp9io2LPYqtin2YYgLSAxMzcwDdiv2YjZhSAtIDEzNjkN2KfZiNmEIC0gMTM2ORXYqtin2KjYs9iq2KfZhiAtIDEzNjkN2K/ZiNmFIC0gMTM2OA3Yp9mI2YQgLSAxMzY4Fdiq2KfYqNiz2KrYp9mGIC0gMTM2OA3Yr9mI2YUgLSAxMzY3Ddin2YjZhCAtIDEzNjcV2KrYp9io2LPYqtin2YYgLSAxMzY3Ddiv2YjZhSAtIDEzNjYN2KfZiNmEIC0gMTM2NhXYqtin2KjYs9iq2KfZhiAtIDEzNjYN2K/ZiNmFIC0gMTM2NQ3Yp9mI2YQgLSAxMzY1Fdiq2KfYqNiz2KrYp9mGIC0gMTM2NQ3Yr9mI2YUgLSAxMzY0Ddin2YjZhCAtIDEzNjQV2KrYp9io2LPYqtin2YYgLSAxMzY0Ddiv2YjZhSAtIDEzNjMN2KfZiNmEIC0gMTM2MxXYqtin2KjYs9iq2KfZhiAtIDEzNjMN2K/ZiNmFIC0gMTM2Mg3Yp9mI2YQgLSAxMzYyFdiq2KfYqNiz2KrYp9mGIC0gMTM2Mg3Yr9mI2YUgLSAxMzYxDdin2YjZhCAtIDEzNjEV2KrYp9io2LPYqtin2YYgLSAxMzYxDdiv2YjZhSAtIDEzNjAN2KfZiNmEIC0gMTM2MBXYqtin2KjYs9iq2KfZhiAtIDEzNjAN2K/ZiNmFIC0gMTM1OQ3Yp9mI2YQgLSAxMzU5Fdiq2KfYqNiz2KrYp9mGIC0gMTM1OQ3Yr9mI2YUgLSAxMzU4Ddin2YjZhCAtIDEzNTgV2KrYp9io2LPYqtin2YYgLSAxMzU4Ddiv2YjZhSAtIDEzNTcN2KfZiNmEIC0gMTM1NxXYqtin2KjYs9iq2KfZhiAtIDEzNTcN2K/ZiNmFIC0gMTM1Ng3Yp9mI2YQgLSAxMzU2Fdiq2KfYqNiz2KrYp9mGIC0gMTM1Ng3Yr9mI2YUgLSAxMzU1Ddin2YjZhCAtIDEzNTUV2KrYp9io2LPYqtin2YYgLSAxMzU1Ddiv2YjZhSAtIDEzNTQN2KfZiNmEIC0gMTM1NBXYqtin2KjYs9iq2KfZhiAtIDEzNTQN2K/ZiNmFIC0gMTM1Mw3Yp9mI2YQgLSAxMzUzFdiq2KfYqNiz2KrYp9mGIC0gMTM1Mw3Yr9mI2YUgLSAxMzUyDdin2YjZhCAtIDEzNTIV2KrYp9io2LPYqtin2YYgLSAxMzUyDdiv2YjZhSAtIDEzNTEN2KfZiNmEIC0gMTM1MRXYqtin2KjYs9iq2KfZhiAtIDEzNTEN2K/ZiNmFIC0gMTM1MA3Yp9mI2YQgLSAxMzUw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2Yog2YXYrtin2KjYsdin2Kog2Ygg2KfZhNmD2KrYsdmI2YbZitmDD9io2K7YtCDZhdmI2KfYrxzYqNiu2LQg2LTZitmF2Yog2YXZh9mG2K/Ys9mKEdio2K7YtCDYudmF2LHYp9mGGtio2K7YtCDYstmK2LPYqiDYtNmG2KfYs9mKHNio2K7YtCDYstmF2YrZgNmGINi02YbYp9iz2YoR2KjYrti0INix2YrYp9i22YoP2KjYrti0INin2YXYp9ixD9io2K7YtCDYtNmK2YXZihHYqNiu2LQg2YHZitiy2YrZgyTYqNiu2LQg2KfZgtmA2KrYtdin2K/ZhdmG2K3ZhCDYtNiv2Ycu2KjYrti0INio2YDYsdmG2KfZhdmHINix2YrYstmKINmF2YbYrdmEINi02K/ZhxPYqNiu2LQg2KrZgNin2LHZitiuK9io2K7YtCDYsdmI2KfZhti02YbZgNin2LPZiiDZhdmG2K3ZhCDYtNiv2Ycr2KjYrti0INiy2KjZgNin2YYg2YjYp9iv2KjZitin2Kog2YHYp9ix2LPZijjYqNiu2LQg2LLYqNmA2KfZhtmH2KfZiiDYrtin2LHYrNmKINmI2LLYqNin2YYg2LTZhtin2LPZijLYqNiu2LQg2LnZhNmA2YjZhSDZg9iq2KfYqNiv2KfYsdmKINmF2YbYrdmEINi02K/ZhzjYqNiu2LQg2YXYr9mK2YDYsdmK2Kog2YjYrdiz2KfYqNiv2KfYsdmKINmF2YbYrdmEINi02K/ZhynYqNiu2LQgINiy2KjYp9mGINmIINin2K/YqNmK2KfYqiDYudix2KjZihXYqNiu2LQg2KzYutix2KfZgdmK2Kcq2KjYrti0INmB2YTYs9mB2Ycg2Ygg2YPZhNin2YUg2KfYs9mE2KfZhdmKJNio2K7YtCDYudmE2YjZhSDZgtix2KLZhtmKINmIINmB2YLZhyTYqNiu2LQg2LnZhNmI2YUg2Ygg2YXZh9mG2K/Ys9mKINii2Kge2KjYrti0INi52YTZiNmFINio2KfYutio2KfZhtmKJtio2K7YtCDYudmE2YjZhSDZiCDZhdmH2YbYr9iz2Yog2K7Yp9mDK9io2K7YtCDYstix2KfYudiqINmI2KfYtdmE2KfYrSDZhtio2KfYqtin2KoZ2KjYrti0INqv2YrYp9mH2b7Ysti02YPZiiHYqNiu2LQg2KfZgtiq2LXYp9iv2YPYtNin2YjYsdiy2Yot2KjYrti0INiq2LHZiNmK2Kwg2YjYp9mF2YjYsti0INmD2LTYp9mI2LHYstmKGtio2K7YtCDYudmE2YDZiNmFINiv2KfZhdmKNdio2K7YtCDYudmE2YjZhSDZiCDZhdmH2YbYr9iz2Yog2LXZhtin2YrYuSDYutiw2KfZitmKJNio2K7YtCDZhdmH2YbYr9iz2Yog2KjZitmI2LPZitiz2KrZhT7YqNiu2LQg2YXZh9mG2K/Ys9mKINmF2YbYp9io2Lkg2LfYqNmK2LnZiiDZiCDZhdit2YrYtyDYstmK2LPYqh3YqNiu2LQg2KjZitmI2KraqdmG2YjZhNmI2pjZiibYqNiu2LQg2LHZiNin2YbYtNmG2KfYs9mKINiq2LHYqNmK2KrZijjYqNiu2LQg2YXYr9mK2LHZitiqINmI2KjYsdmG2KfZhdmHINix2YrYstmKINin2YXZiNiy2LTZij/YqNiu2LQg2KfZhdmI2LLYtCDZiNm+2LHZiNix2LQg2K/YqNiz2KrYp9mG2Yog2YjZviDYr9io2LPYqtin2YYk2KjYrti0INmD2YjYr9mD2KfZhiDYp9iz2KrYq9mG2KfZitmKGtio2K7YtCDYqtix2KjZitiqINio2K/ZhtmKHtio2K7YtCDYudmE2YjZhSDYqtmA2LHYqNmK2KrZihvYqNiu2LQg2LHZiNin2YbYtNmG2YDYp9iz2Yoo2KjYrti0ICrYqtix2KjZgNmK2Kog2KjYr9mG2Yog2LTYqNin2YbZhynYqNiu2LQg2YXYqNin2YbZiiDYqti52YTZitmFINmI2KrYsdio2YrYqjPYqNiu2LQg2LnZhNmFINin2LfZhNin2LnYp9iqINmIINiv2KfZhti0INi02YbYp9iz2Yod2KjYrti0INm+2KfYqtmI2KjZitmI2YTZiNqY2YoY2KjYrti0INi52YTZiNmFINm+2KfZitmHItio2K7YtCDYudmE2YjZhSDYr9ix2YXYp9mG2q/Yp9mH2YoT2KjYrti0INio2YfYr9in2LTYqhfYqNiu2LQg2K/Yp9mF2b7Ysti02YPZiijYqNiu2LQg2YXYr9mK2LHZitiqICDYqNmH2K/Yp9i02Kog2K/Yp9mFKNio2K7YtCDZg9in2LHYr9in2YbZiiDYp9mE2YPYqtix2YjZhtmK2YM92KjYrti0INmD2KfYsdi02YbYp9iz2YDZiiDZhtin2b7ZitmI2LPYqtmHINin2YTZg9iq2LHZiNmG2YrZgzPYqNiu2LQg2YPYp9ix2K/Yp9mG2Yog2LTYqNin2YbZhyDYp9mE2YPYqtix2YjZhtmK2YNA2KjYrti0INmD2KfYsdi02YbYp9iz2Yog2LTYqCDZhtin2b7ZitmI2LPYqtmHINin2YTZg9iq2LHZiNmG2YrZgybYqNiu2LQg2YPZhtiq2LHZhCDZiNin2KjYstin2LHYr9mC2YrZgg/YqNiu2LQg2K3ZgtmI2YIa2KjYrti0INit2YLZiNmCINi02KjYp9mG2Yca2KjYrti0INit2YLZiNmCINi52YXZiNmF2Yoa2KjYrti0INit2YLZiNmCINiu2LXZiNi12Yoh2KjYrti0INit2YLZiNmCINio2YrZhiDYp9mE2YXZhNmEGtio2K7YtCDYudmE2YjZhSDYs9mK2KfYs9mKItio2K7YtCDYrNiy2Kcg2Ygg2KzYsdmFINi02YbYp9iz2YoR2KjYrti0INmK2KfYs9mI2Kwe2KjYrti0INiq2YjZhNmK2K/Yp9iqINiv2KfZhdmKE9io2K7YtCDZhdi52YXYp9ix2YoN2KjYrti0INmH2YbYsRXYqNiu2LQg2LTZh9ix2LPYp9iy2Yog2KjYrti0INin2LHYqtio2KfYtyDYqti12YjZitix2YoN2KjYrti0INmB2LHYtBPYqNiu2LQg2KfZgtiq2LXYp9ivHtio2K7YtCDYudmE2YjZhSDYp9is2KrZhdin2LnZihTYqNiu2LQg2YXYr9mK2LHZitiqIBfYqNiu2LQg2K3Ys9in2KjYr9in2LHZihXYqNiu2LQg2KzYutix2KfZgdmK2Kcc2KjYrti0INmF2YfZhtiv2LPZiiDYtNmK2YXZihrYqNiu2LQg2YXZh9mG2K/Ys9mKINmG2YHYqhrYqNiu2LQg2YXZh9mG2K/Ys9mKINqv2KfYsiDYqNiu2LQg2YXZh9mF2KfZhiDYqtin2KjYs9iq2KfZhiDYqNiu2LQg2K/Yp9mG2LTar9in2Ycg2LTZitix2KfYshrYqNiu2LQg2LnZhNmI2YUg2b7Ysti02qnZihjYqNiu2LQg2KjYr9mI2YYg2LHYtNiq2Ycl2KjYrti0INmG2KfZhtmIINmF2YfZhtiv2LPZiiDYtNmK2YXZiijYqNiu2LQg2YbYp9mG2YjZhdmH2YbYr9iz2Yog2YXaqdin2YbZitqpJNio2K7YtCDZhdiv2YrYsdmK2Kog2KzZh9in2Ybar9ix2K/Zii3YqNiu2LQg2YXZh9mG2K/Ys9mKINmF2YPYp9mG2YrZgyDYrNin2YXYr9in2Ko72KjYrti0INmF2YfZhtiv2LPZiiDZhdmD2KfZhtmK2YMg2K3Ysdin2LHYqiDZiCDYs9mK2KfZhNin2Kov2KjYrti0INmF2YfZhtiv2LPZiiDYp9mG2LHamNmKINmIINmH2YjYpyDZgdi22Kch2KjYrti0INmF2YfZhtiv2LPZiiDZh9iz2KrZhyDYp9mKKtio2K7YtCDZgdmE2LPZgdmHINmIINmD2YTYp9mFINin2LPZhNin2YXZiiLYqNiu2LQg2LnZhNmI2YUg2YLYsdii2YYg2Ygg2YHZgtmHHtio2K7YtCDZhdi52KfYsdmBINin2LPZhNin2YXZiiHYqNiu2LQg2LPYp9iy2Ycg2Ygg2b7Ziti02LHYp9mG2LQo2KjYrti0INmH2YrYr9ix2Ygg2KfZitix2YjYr9mK2YbYp9mF2YraqR/YqNiu2LQg2YfYr9in2YrYqiDZiCDaqdmG2KrYsdmEP9io2K7YtCDZhdix2qnYsiDYqtit2YLZitmC2KfYqiDYrdmF2YQg2Ygg2YbZgtmEINmIINiq2LHYp9mB2YraqSfYqNiu2LQg2YPYtNin2YjYsdiy2Yog2YDYr9in2LHYp9ioINmA2YIt2KjYrti0INiq2YjZhNmK2K/Yp9iqINqv2YrYp9mH2Yog2YDYr9in2LHYp9ioM9io2K7YtCDYqtmD2YbZgNmI2YTZiNqY2Yog2KfYqNmK2KfYsdmKINmA2K/Yp9ix2KfYqDXYqNiu2LQg2KrZg9mG2YjZhNmI2pjZiiDZhdix2KrYuSDZiNin2KjYrtmK2LLYr9in2LHZihjYqNiu2LQg2LnZhNmI2YUg2b7Yp9mK2Ycd2KjYrti0INin2q/YsdmI2KfaqdmI2YTZiNqY2Yoh2KjYrti0INmB2KfYsdiz2Yog2YAg2YPYp9iy2LHZiNmGINio2K7YtCDZgdmK2LLZitqpIC0g2qnY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2Ygg2KfZhtix2pjZijvYqNiu2LQg2YXZh9mG2K/Ys9mKINmF2qnYp9mG2YraqSDYrdix2KfYsdiqINmIINiz2YrYp9mE2KfYqh3YqNiu2LQg2YLYr9ix2Kog2Ygg2YPZhtiq2LHZhA3YqNiu2LQg2YfZhtixJ9io2K7YtCDZhdiv2YrYsdmK2Kog2KjZh9iv2KfYtNiqINiv2KfZhSLYqNiu2LQg2YXYr9mK2LHZitiqICjYp9mF2KfYsdin2KopNNio2K7YtCDYsdmI2KfZhti02YbYp9iz2Yog2KjYp9mE2YrZhtmKKNin2YXYp9ix2KfYqik52KjYrti0INiy2KjYp9mGINmIINin2K/YqNmK2KfYqiDZgdin2LHYs9mKICjYp9mF2KfYsdin2KopJdio2K7YtCDYrdiz2KfYqNiv2KfYsdmKKNin2YXYp9ix2KfYqik12KjYrti0INix2YjYp9mG2LTZhtin2LPZiiDYqtix2KjZitiq2YogKNin2YXYp9ix2KfYqike2KjYrti0INit2YLZiNmCICjYp9mF2KfYsdin2KopPtio2K7YtCDYrdmC2YjZgiDYudmF2YjZhdmKINmIINio2YrZhiDYp9mE2YXZhNmEICjYp9mF2KfYsdin2KopMtio2K7YtCDYqNix2YIg2Ygg2KfZhNmD2KrYsdmI2YbZitmDICjYp9mF2KfYsdin2KopMNio2K7YtCDYstio2KfZhiDZh9in2Yog2K7Yp9ix2KzZiiAo2KfZhdin2LHYp9iqKTLYqNiu2LQg2YXZh9mG2K/Ys9mKINqp2KfZhdm+2YrZiNiq2LEo2KfZhdin2LHYp9iqKS7YqNiu2LQg2YXZh9mG2K/Ys9mKINmF2LnZhdin2LHZiijYp9mF2KfYsdin2KopL9io2K7YtCDZhdiv2YrYsdmK2Kog2KLZhdmI2LLYtNmKICjYp9mF2KfYsdin2KopItio2K7YtCDYp9mC2KrYtdin2K8gKNin2YXYp9ix2KfYqikg2KjYrti0INi52YXYsdin2YYgKNin2YXYp9ix2KfYqikk2KjYrti0INit2YLZiNmCINis2LLYpyjYp9mF2KfYsdin2KopH9io2K7YtCDYudmF2YjZhdmKKNin2YXYp9ix2KfYqikR2KjYrti0INi52YXZiNmF2YoP2KjYrti0INit2YLZiNmCDdio2K7YtCDYqNix2YIm2KjYrti0INiq2YPZhtmI2YTZiNqY2Yog2KfYt9mE2KfYudin2KoX2KjYrti0INqp2KfZhdm+2YrZiNiq2LEg2KjYrti0INiy2KjYp9mG2YfYp9mKINiu2KfYsdis2Yok2KjYrti0INmF2K/Zitix2YrYqiDYrNmH2KfZhtqv2LHYr9mKHtio2K7YtCDYudmE2YjZhSDYp9mC2KrYtdin2K/ZihW+AQEwBDI5MDMEMjkwMQQyOTAyBDEwMDIEMTAwMwQxMDA0BDExMDEEMTEwMgQxMTAzBDExMDQEMTEwNQQxMTA2BDEyMDEEMTIwMgQxMjAzBDEyMDQEMTIwNQQxMjA2BDEyMDcEMTIwOAQxMjEwBDEyMTEEMTIxMgQxMjEzBDEzMDEEMTMwMgQxMzAzBDEzMDQEMTMwNQQxMzA2BDEzMDcEMTMwOAQxMzA5BDEzMTAEMTMxMQQxMzEyBDE0MDEEMTQwMgQxNDAzBDE0MDQEMTQwNQQxNDA2BDE0MDcEMTQwOAQxNDA5BDE0MTAEMTUwMQQxNTAyBDE1MDMEMTUwNAQxNTA1BDE1MDYEMTYwMQQxNjAyBDE2MDMEMTYwNAQxNjA1BDE3MDEEMTcwMgQxNzAzBDE3MDQEMTcwNQQxNzA2BDE3MDcEMTgwMQQxOTAxBDIyMDEEMjIwMgQyMjAzBDIyMDQEMjIwNQQyMzAxBDIzMDIEMjMwMwQyMzA0BDIzMDUEMjQwMQQyNDAyBDI0MDMEMjUwMQQyODAxBDI4MDIEMjgwMwQzMDAxBDMwMDIEMzEwMQQzMjAxBDMyMDIEMzIwMwQzMjA0BDM0MDEEMzQwMgQzNDAzBDM1MDEEMzUwMgQzNTAzBDM2MDEEMjAwMQQyMDAyBDIwMDMEMjAwNAQyMDA1BDIwMDYEMjEwMQQyMTAyBDIxMDMEMjYwMQQyNjAyBDI2MDMEMjYwNAQyNjA1BDI2MDYEMjYwNwQyNjA4BDI2MDkEMjYxMAQyNjExBDI2MTIEMjYxMwQyNjE0BDI2MTUEMjYxNgQyNjE3BDI2MTgEMjYxOQQyNjIwBDI2MjEEMjYyMgQyNjIzBDI2MjQEMjYyNQQyNjI2BDI2MjcEMjYyOAQyNjI5BDI2MzAEMjYzMQQyNjMyBDI2MzMEMjYzNAQyNjM1BDI2MzYEMjYzNwQyNjM4BDI2MzkEMjY0MAQyNjQxBDI2NDIEMjY0MwQyNjQ0BDI2NDUEMjY0NgQyNjQ3BDI2NDgEMjY0OQQyNjUwBDI2NTEEMjY1MgQyNjUzBDI2NTQEMjY1NQQyNjU2BDI2NTcEMjY1OAQyNjU5BDMzMDEEMzMwMgQzMzAzBDMzMDQEMzMwNQQzMzA2BDMzMDcEMzMwOAQzMzA5BDMzMTAEMzMxMQQzMzEyBDMzMTMEMzMxNAQzMzE1BDMzMTYEMjcwMQQyNzAyBDI3MDMEMjcwNAQyNzA1BDI3MDYEMjcwNwQyNzA4FCsDvgFnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZGRkCMSaMDymCy3exluBGCaxe8h99HLAcQLFIh+kA1OpDkU=',
    '__VIEWSTATEGENERATOR': 'D02604AD',
    '__EVENTVALIDATION': '/wEdAAUAToFIqsv0eQxTsBn+0vdj6/R1CdSTRgr1D4vCUegGUZFB0O/9E5xLpcfo0i3k0CuMtpATfle4RqQS6XMgMUtAS1f8aOOWPGzSVWaY7KNHgDOZ/IM2wT2L0J/JoDtbbHI15ztUSAMrfKjRdDGqOQTK',
    'Banner1:zzChanel': '',
    'edSemester': SEMESTER,
    'edDepartment': departmentId,
    'Channel': 'Act=Edit;Ident=' + courseIdent + ';'
    }

    response = requests.post('https://sess.shirazu.ac.ir/Sess/3022764645282', headers=headers, data=data)

def get_course_time_room(courseIdent, departmentId):
    set_session_course(courseIdent, departmentId)

    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3022764645282',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=0troshsbnez52btci1q1ta1x',
    }

    response = requests.get('https://sess.shirazu.ac.ir/Sess/3022629705844', headers=headers)

    soup = BeautifulSoup(response.text, "html.parser")
    time_room_div = soup.find("div", {'id': "edTimeRoom"})
    teacher_div = soup.find("div", {'id': "edTch"})
    gender_div = soup.find("div", {'id': "edSex"})
    final_date_div = soup.find("div", {'id': "edFinalDate"})
    return {
        'time_room': '\n'.join([x for x in time_room_div.contents if type(x) is bs4.element.NavigableString]),
        'teacher': teacher_div.text,
        'gender': gender_div.text,
        'final_date': final_date_div.text,
    }

def join_data():
    
    f = open('departments' + SEMESTER + '.txt', 'r')
    departments = json.loads(f.read())
    f.close()
    final_data = []
    for dep in departments:

        f = open(SEMESTER + '/' + dep['id'] + '.txt', 'r')
        courses = json.loads(f.read())
        f.close()

        courses_final = []
        for c in courses:
            objc = { 'ident' : c}
            objc.update(courses[c])
            courses_final.append(objc)

        final_data.append({
            'id': dep['id'],
            'title': dep['title'],
            'courses': courses_final
        })
    
    f = open(SEMESTER + '.txt', 'w')
    f.write(json.dumps(final_data))
    f.close()


# get_departments()
get_courses()
join_data()