import requests
import urllib.request
import time
import json
import bs4
import os
from bs4 import BeautifulSoup

"""
    To generate request headers and data:
        1. open developer tools in browser
        1. navigate to page
        2. track requests in network tab and copy as cURL
        3. use https://curl.trillworks.com/ to generate python requests
"""

SEMESTER = '13981'

try:
    os.stat(SEMESTER)
except FileNotFoundError:
    os.mkdir(SEMESTER)


def get_departments():
    print('Getting Departments')
    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'none',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=0luus3cr2k2kszdq0tlew2gr',
    }

    response = requests.get('https://sess.shirazu.ac.ir/Sess/3022764645282', headers=headers)

    soup = BeautifulSoup(response.text, "html.parser")

    departments = []
    dep_select = soup.find("select", {'id': "edDepartment"})
    for dep_option in dep_select.contents:
        if dep_option == '\n' or dep_option['value'] == '0':
            continue
        departments.append({
            'id': dep_option['value'],
            'title': dep_option.text,
        })
    f = open('departments' + SEMESTER + '.txt', 'w')
    f.write(json.dumps(departments))
    f.close()


def get_department_courses(department_id, dep_progress):
    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'origin': 'https://sess.shirazu.ac.ir',
        'upgrade-insecure-requests': '1',
        'content-type': 'application/x-www-form-urlencoded',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3564883227030',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=liftc5qftg4u1qw04op5xrmm',
        'dnt': '1',
    }

    data = {
        '__VIEWSTATE': '/wEPDwUKLTMzODEzMDYyOQ9kFgICAQ9kFgYCAQ9kFgoCBQ8WAh4JaW5uZXJodG1sBSvYudmE2Yog2YXZh9iv2Yog2YrYp9ixICAq2YbYsdmFINin2YHYstin2LEqZAIHDxYCHwAFUtin2KrYtdin2YQg2KfYsiDYt9ix2YrZgjrYtNio2qnZhyDYr9in2K7ZhNmKLdio2K7YtCDaqdin2YXZvtmK2YjYqtixIEVORy0yLUNTRS1MQU5kAgkPZBYCAgEPZBYCZg8WAh8ABQbbtdu427NkAgsPFgIeB1Zpc2libGVoZAINDxYCHwAFGTxiPtux27Pbudu4L9uw27Yv27DbuTwvYj5kAgMPEGQQFa8BAi0tDdiv2YjZhSAtIDEzOTgN2KfZiNmEIC0gMTM5OBXYqtin2KjYs9iq2KfZhiAtIDEzOTgN2K/ZiNmFIC0gMTM5Nw3Yp9mI2YQgLSAxMzk3Fdiq2KfYqNiz2KrYp9mGIC0gMTM5Nw3Yr9mI2YUgLSAxMzk2Ddin2YjZhCAtIDEzOTYV2KrYp9io2LPYqtin2YYgLSAxMzk2Ddiv2YjZhSAtIDEzOTUN2KfZiNmEIC0gMTM5NRXYqtin2KjYs9iq2KfZhiAtIDEzOTUN2K/ZiNmFIC0gMTM5NA3Yp9mI2YQgLSAxMzk0Fdiq2KfYqNiz2KrYp9mGIC0gMTM5NA3Yr9mI2YUgLSAxMzkzDdin2YjZhCAtIDEzOTMV2KrYp9io2LPYqtin2YYgLSAxMzkzDdiv2YjZhSAtIDEzOTIN2KfZiNmEIC0gMTM5MhXYqtin2KjYs9iq2KfZhiAtIDEzOTIN2K/ZiNmFIC0gMTM5MQ3Yp9mI2YQgLSAxMzkxFdiq2KfYqNiz2KrYp9mGIC0gMTM5MQ3Yr9mI2YUgLSAxMzkwDdin2YjZhCAtIDEzOTAV2KrYp9io2LPYqtin2YYgLSAxMzkwDdiv2YjZhSAtIDEzODkN2KfZiNmEIC0gMTM4ORXYqtin2KjYs9iq2KfZhiAtIDEzODkN2K/ZiNmFIC0gMTM4OA3Yp9mI2YQgLSAxMzg4Fdiq2KfYqNiz2KrYp9mGIC0gMTM4OA3Yr9mI2YUgLSAxMzg3Ddin2YjZhCAtIDEzODcV2KrYp9io2LPYqtin2YYgLSAxMzg3Ddiv2YjZhSAtIDEzODYN2KfZiNmEIC0gMTM4NhXYqtin2KjYs9iq2KfZhiAtIDEzODYN2K/ZiNmFIC0gMTM4NQ3Yp9mI2YQgLSAxMzg1Fdiq2KfYqNiz2KrYp9mGIC0gMTM4NQ3Yr9mI2YUgLSAxMzg0Ddin2YjZhCAtIDEzODQV2KrYp9io2LPYqtin2YYgLSAxMzg0Ddiv2YjZhSAtIDEzODMN2KfZiNmEIC0gMTM4MxXYqtin2KjYs9iq2KfZhiAtIDEzODMN2K/ZiNmFIC0gMTM4Mg3Yp9mI2YQgLSAxMzgyFdiq2KfYqNiz2KrYp9mGIC0gMTM4Mg3Yr9mI2YUgLSAxMzgxDdin2YjZhCAtIDEzODEV2KrYp9io2LPYqtin2YYgLSAxMzgxDdiv2YjZhSAtIDEzODAN2KfZiNmEIC0gMTM4MBXYqtin2KjYs9iq2KfZhiAtIDEzODAN2K/ZiNmFIC0gMTM3OQ3Yp9mI2YQgLSAxMzc5Fdiq2KfYqNiz2KrYp9mGIC0gMTM3OQ3Yr9mI2YUgLSAxMzc4Ddin2YjZhCAtIDEzNzgV2KrYp9io2LPYqtin2YYgLSAxMzc4Ddiv2YjZhSAtIDEzNzcN2KfZiNmEIC0gMTM3NxXYqtin2KjYs9iq2KfZhiAtIDEzNzcN2K/ZiNmFIC0gMTM3Ng3Yp9mI2YQgLSAxMzc2Fdiq2KfYqNiz2KrYp9mGIC0gMTM3Ng3Yr9mI2YUgLSAxMzc1Ddin2YjZhCAtIDEzNzUV2KrYp9io2LPYqtin2YYgLSAxMzc1Ddiv2YjZhSAtIDEzNzQN2KfZiNmEIC0gMTM3NBXYqtin2KjYs9iq2KfZhiAtIDEzNzQN2K/ZiNmFIC0gMTM3Mw3Yp9mI2YQgLSAxMzczFdiq2KfYqNiz2KrYp9mGIC0gMTM3Mw3Yr9mI2YUgLSAxMzcyDdin2YjZhCAtIDEzNzIV2KrYp9io2LPYqtin2YYgLSAxMzcyDdiv2YjZhSAtIDEzNzEN2KfZiNmEIC0gMTM3MRXYqtin2KjYs9iq2KfZhiAtIDEzNzEN2K/ZiNmFIC0gMTM3MA3Yp9mI2YQgLSAxMzcwFdiq2KfYqNiz2KrYp9mGIC0gMTM3MA3Yr9mI2YUgLSAxMzY5Ddin2YjZhCAtIDEzNjkV2KrYp9io2LPYqtin2YYgLSAxMzY5Ddiv2YjZhSAtIDEzNjgN2KfZiNmEIC0gMTM2OBXYqtin2KjYs9iq2KfZhiAtIDEzNjgN2K/ZiNmFIC0gMTM2Nw3Yp9mI2YQgLSAxMzY3Fdiq2KfYqNiz2KrYp9mGIC0gMTM2Nw3Yr9mI2YUgLSAxMzY2Ddin2YjZhCAtIDEzNjYV2KrYp9io2LPYqtin2YYgLSAxMzY2Ddiv2YjZhSAtIDEzNjUN2KfZiNmEIC0gMTM2NRXYqtin2KjYs9iq2KfZhiAtIDEzNjUN2K/ZiNmFIC0gMTM2NA3Yp9mI2YQgLSAxMzY0Fdiq2KfYqNiz2KrYp9mGIC0gMTM2NA3Yr9mI2YUgLSAxMzYzDdin2YjZhCAtIDEzNjMV2KrYp9io2LPYqtin2YYgLSAxMzYzDdiv2YjZhSAtIDEzNjIN2KfZiNmEIC0gMTM2MhXYqtin2KjYs9iq2KfZhiAtIDEzNjIN2K/ZiNmFIC0gMTM2MQ3Yp9mI2YQgLSAxMzYxFdiq2KfYqNiz2KrYp9mGIC0gMTM2MQ3Yr9mI2YUgLSAxMzYwDdin2YjZhCAtIDEzNjAV2KrYp9io2LPYqtin2YYgLSAxMzYwDdiv2YjZhSAtIDEzNTkN2KfZiNmEIC0gMTM1ORXYqtin2KjYs9iq2KfZhiAtIDEzNTkN2K/ZiNmFIC0gMTM1OA3Yp9mI2YQgLSAxMzU4Fdiq2KfYqNiz2KrYp9mGIC0gMTM1OA3Yr9mI2YUgLSAxMzU3Ddin2YjZhCAtIDEzNTcV2KrYp9io2LPYqtin2YYgLSAxMzU3Ddiv2YjZhSAtIDEzNTYN2KfZiNmEIC0gMTM1NhXYqtin2KjYs9iq2KfZhiAtIDEzNTYN2K/ZiNmFIC0gMTM1NQ3Yp9mI2YQgLSAxMzU1Fdiq2KfYqNiz2KrYp9mGIC0gMTM1NQ3Yr9mI2YUgLSAxMzU0Ddin2YjZhCAtIDEzNTQV2KrYp9io2LPYqtin2YYgLSAxMzU0Ddiv2YjZhSAtIDEzNTMN2KfZiNmEIC0gMTM1MxXYqtin2KjYs9iq2KfZhiAtIDEzNTMN2K/ZiNmFIC0gMTM1Mg3Yp9mI2YQgLSAxMzUyFdiq2KfYqNiz2KrYp9mGIC0gMTM1Mg3Yr9mI2YUgLSAxMzUxDdin2YjZhCAtIDEzNTEV2KrYp9io2LPYqtin2YYgLSAxMzUxDdiv2YjZhSAtIDEzNTAN2KfZiNmEIC0g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2K/Ys9mKINmF2K7Yp9io2LHYp9iqINmIINin2YTZg9iq2LHZiNmG2YrZgw/YqNiu2LQg2YXZiNin2K8c2KjYrti0INi02YrZhdmKINmF2YfZhtiv2LPZihHYqNiu2LQg2LnZhdix2KfZhhrYqNiu2LQg2LLZitiz2Kog2LTZhtin2LPZihzYqNiu2LQg2LLZhdmK2YDZhiDYtNmG2KfYs9mKEdio2K7YtCDYsdmK2KfYttmKD9io2K7YtCDYp9mF2KfYsQ/YqNiu2LQg2LTZitmF2YoR2KjYrti0INmB2YrYstmK2YMk2KjYrti0INin2YLZgNiq2LXYp9iv2YXZhtit2YQg2LTYr9mHLtio2K7YtCDYqNmA2LHZhtin2YXZhyDYsdmK2LLZiiDZhdmG2K3ZhCDYtNiv2YcT2KjYrti0INiq2YDYp9ix2YrYrivYqNiu2LQg2LHZiNin2YbYtNmG2YDYp9iz2Yog2YXZhtit2YQg2LTYr9mHK9io2K7YtCDYstio2YDYp9mGINmI2KfYr9io2YrYp9iqINmB2KfYsdiz2Yo42KjYrti0INiy2KjZgNin2YbZh9in2Yog2K7Yp9ix2KzZiiDZiNiy2KjYp9mGINi02YbYp9iz2Yoy2KjYrti0INi52YTZgNmI2YUg2YPYqtin2KjYr9in2LHZiiDZhdmG2K3ZhCDYtNiv2Yc42KjYrti0INmF2K/ZitmA2LHZitiqINmI2K3Ys9in2KjYr9in2LHZiiDZhdmG2K3ZhCDYtNiv2Ycp2KjYrti0ICDYstio2KfZhiDZiCDYp9iv2KjZitin2Kog2LnYsdio2YoV2KjYrti0INis2LrYsdin2YHZitinKtio2K7YtCDZgdmE2LPZgdmHINmIINmD2YTYp9mFINin2LPZhNin2YXZiiTYqNiu2LQg2LnZhNmI2YUg2YLYsdii2YbZiiDZiCDZgdmC2Yck2KjYrti0INi52YTZiNmFINmIINmF2YfZhtiv2LPZiiDYotioHtio2K7YtCDYudmE2YjZhSDYqNin2LrYqNin2YbZiibYqNiu2LQg2LnZhNmI2YUg2Ygg2YXZh9mG2K/Ys9mKINiu2KfZgyvYqNiu2LQg2LLYsdin2LnYqiDZiNin2LXZhNin2K0g2YbYqNin2KrYp9iqGdio2K7YtCDar9mK2KfZh9m+2LLYtNmD2Yoh2KjYrti0INin2YLYqti12KfYr9mD2LTYp9mI2LHYstmKLdio2K7YtCDYqtix2YjZitisINmI2KfZhdmI2LLYtCDZg9i02KfZiNix2LLZihrYqNiu2LQg2LnZhNmA2YjZhSDYr9in2YXZijXYqNiu2LQg2LnZhNmI2YUg2Ygg2YXZh9mG2K/Ys9mKINi12YbYp9mK2Lkg2LrYsNin2YrZiiTYqNiu2LQg2YXZh9mG2K/Ys9mKINio2YrZiNiz2YrYs9iq2YU+2KjYrti0INmF2YfZhtiv2LPZiiDZhdmG2KfYqNi5INi32KjZiti52Yog2Ygg2YXYrdmK2Lcg2LLZitiz2Kod2KjYrti0INio2YrZiNiq2qnZhtmI2YTZiNqY2Yom2KjYrti0INix2YjYp9mG2LTZhtin2LPZiiDYqtix2KjZitiq2Yo42KjYrti0INmF2K/Zitix2YrYqiDZiNio2LHZhtin2YXZhyDYsdmK2LLZiiDYp9mF2YjYsti02Yo/2KjYrti0INin2YXZiNiy2LQg2YjZvtix2YjYsdi0INiv2KjYs9iq2KfZhtmKINmI2b4g2K/YqNiz2KrYp9mGJNio2K7YtCDZg9mI2K/Zg9in2YYg2KfYs9iq2KvZhtin2YrZihrYqNiu2LQg2KrYsdio2YrYqiDYqNiv2YbZih7YqNiu2LQg2LnZhNmI2YUg2KrZgNix2KjZitiq2Yob2KjYrti0INix2YjYp9mG2LTZhtmA2KfYs9mKKNio2K7YtCAq2KrYsdio2YDZitiqINio2K/ZhtmKINi02KjYp9mG2Ycp2KjYrti0INmF2KjYp9mG2Yog2KrYudmE2YrZhSDZiNiq2LHYqNmK2Koz2KjYrti0INi52YTZhSDYp9i32YTYp9i52KfYqiDZiCDYr9in2YbYtCDYtNmG2KfYs9mKHdio2K7YtCDZvtin2KrZiNio2YrZiNmE2YjamNmKGNio2K7YtCDYudmE2YjZhSDZvtin2YrZhyLYqNiu2LQg2LnZhNmI2YUg2K/YsdmF2KfZhtqv2KfZh9mKE9io2K7YtCDYqNmH2K/Yp9i02KoX2KjYrti0INiv2KfZhdm+2LLYtNmD2Yoo2KjYrti0INmF2K/Zitix2YrYqiAg2KjZh9iv2KfYtNiqINiv2KfZhSjYqNiu2LQg2YPYp9ix2K/Yp9mG2Yog2KfZhNmD2KrYsdmI2YbZitmDPdio2K7YtCDZg9in2LHYtNmG2KfYs9mA2Yog2YbYp9m+2YrZiNiz2KrZhyDYp9mE2YPYqtix2YjZhtmK2YMz2KjYrti0INmD2KfYsdiv2KfZhtmKINi02KjYp9mG2Ycg2KfZhNmD2KrYsdmI2YbZitmDQNio2K7YtCDZg9in2LHYtNmG2KfYs9mKINi02Kgg2YbYp9m+2YrZiNiz2KrZhyDYp9mE2YPYqtix2YjZhtmK2YMm2KjYrti0INmD2YbYqtix2YQg2YjYp9io2LLYp9ix2K/ZgtmK2YIP2KjYrti0INit2YLZiNmCGtio2K7YtCDYrdmC2YjZgiDYtNio2KfZhtmHGtio2K7YtCDYrdmC2YjZgiDYudmF2YjZhdmKGtio2K7YtCDYrdmC2YjZgiDYrti12YjYtdmKIdio2K7YtCDYrdmC2YjZgiDYqNmK2YYg2KfZhNmF2YTZhBrYqNiu2LQg2LnZhNmI2YUg2LPZitin2LPZiiLYqNiu2LQg2KzYstinINmIINis2LHZhSDYtNmG2KfYs9mKEdio2K7YtCDZitin2LPZiNisHtio2K7YtCDYqtmI2YTZitiv2KfYqiDYr9in2YXZihPYqNiu2LQg2YXYudmF2KfYsdmKDdio2K7YtCDZh9mG2LEV2KjYrti0INi02YfYsdiz2KfYstmKINio2K7YtCDYp9ix2KrYqNin2Lcg2KrYtdmI2YrYsdmKDdio2K7YtCDZgdix2LQT2KjYrti0INin2YLYqti12KfYrx7YqNiu2LQg2LnZhNmI2YUg2KfYrNiq2YXYp9i52YoU2KjYrti0INmF2K/Zitix2YrYqiAX2KjYrti0INit2LPYp9io2K/Yp9ix2YoV2KjYrti0INis2LrYsdin2YHZitinHNio2K7YtCDZhdmH2YbYr9iz2Yog2LTZitmF2Yoa2KjYrti0INmF2YfZhtiv2LPZiiDZhtmB2Koa2KjYrti0INmF2YfZhtiv2LPZiiDar9in2LIg2KjYrti0INmF2YfZhdin2YYg2KrYp9io2LPYqtin2YYg2KjYrti0INiv2KfZhti02q/Yp9mHINi02YrYsdin2LIa2KjYrti0INi52YTZiNmFINm+2LLYtNqp2YoY2KjYrti0INio2K/ZiNmGINix2LTYqtmHJdio2K7YtCDZhtin2YbZiCDZhdmH2YbYr9iz2Yog2LTZitmF2Yoo2KjYrti0INmG2KfZhtmI2YXZh9mG2K/Ys9mKINmF2qnYp9mG2YraqSTYqNiu2LQg2YXYr9mK2LHZitiqINis2YfYp9mG2q/Ysdiv2Yot2KjYrti0INmF2YfZhtiv2LPZiiDZhdmD2KfZhtmK2YMg2KzYp9mF2K/Yp9iqO9io2K7YtCDZhdmH2YbYr9iz2Yog2YXZg9in2YbZitmDINit2LHYp9ix2Kog2Ygg2LPZitin2YTYp9iqL9io2K7YtCDZhdmH2YbYr9iz2Yog2KfZhtix2pjZiiDZiCDZh9mI2Kcg2YHYttinIdio2K7YtCDZhdmH2YbYr9iz2Yog2YfYs9iq2Ycg2KfZiirYqNiu2LQg2YHZhNiz2YHZhyDZiCDZg9mE2KfZhSDYp9iz2YTYp9mF2Yoi2KjYrti0INi52YTZiNmFINmC2LHYotmGINmIINmB2YLZhx7YqNiu2LQg2YXYudin2LHZgSDYp9iz2YTYp9mF2Yoh2KjYrti0INiz2KfYstmHINmIINm+2YrYtNix2KfZhti0KNio2K7YtCDZh9mK2K/YsdmIINin2YrYsdmI2K/ZitmG2KfZhdmK2qkf2KjYrti0INmH2K/Yp9mK2Kog2Ygg2qnZhtiq2LHZhD/YqNiu2LQg2YXYsdqp2LIg2KrYrdmC2YrZgtin2Kog2K3ZhdmEINmIINmG2YLZhCDZiCDYqtix2KfZgdmK2qkn2KjYrti0INmD2LTYp9mI2LHYstmKINmA2K/Yp9ix2KfYqCDZgNmCLdio2K7YtCDYqtmI2YTZitiv2KfYqiDar9mK2KfZh9mKINmA2K/Yp9ix2KfYqDPYqNiu2LQg2KrZg9mG2YDZiNmE2YjamNmKINin2KjZitin2LHZiiDZgNiv2KfYsdin2Kg12KjYrti0INiq2YPZhtmI2YTZiNqY2Yog2YXYsdiq2Lkg2YjYp9io2K7Zitiy2K/Yp9ix2YoY2KjYrti0INi52YTZiNmFINm+2KfZitmHHdio2K7YtCDYp9qv2LHZiNin2qnZiNmE2YjamNmKIdio2K7YtCDZgdin2LHYs9mKINmAINmD2KfYstix2YjZhiDYqNiu2LQg2YHZitiy2YraqSAt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ttinINmIINin2YbYsdqY2Yo72KjYrti0INmF2YfZhtiv2LPZiiDZhdqp2KfZhtmK2qkg2K3Ysdin2LHYqiDZiCDYs9mK2KfZhNin2Kod2KjYrti0INmC2K/YsdiqINmIINmD2YbYqtix2YQN2KjYrti0INmH2YbYsSfYqNiu2LQg2YXYr9mK2LHZitiqINio2YfYr9in2LTYqiDYr9in2YUi2KjYrti0INmF2K/Zitix2YrYqiAo2KfZhdin2LHYp9iqKTTYqNiu2LQg2LHZiNin2YbYtNmG2KfYs9mKINio2KfZhNmK2YbZiijYp9mF2KfYsdin2KopOdio2K7YtCDYstio2KfZhiDZiCDYp9iv2KjZitin2Kog2YHYp9ix2LPZiiAo2KfZhdin2LHYp9iqKSXYqNiu2LQg2K3Ys9in2KjYr9in2LHZiijYp9mF2KfYsdin2KopNdio2K7YtCDYsdmI2KfZhti02YbYp9iz2Yog2KrYsdio2YrYqtmKICjYp9mF2KfYsdin2KopHtio2K7YtCDYrdmC2YjZgiAo2KfZhdin2LHYp9iqKT7YqNiu2LQg2K3ZgtmI2YIg2LnZhdmI2YXZiiDZiCDYqNmK2YYg2KfZhNmF2YTZhCAo2KfZhdin2LHYp9iqKTLYqNiu2LQg2KjYsdmCINmIINin2YTZg9iq2LHZiNmG2YrZgyAo2KfZhdin2LHYp9iqKTDYqNiu2LQg2LLYqNin2YYg2YfYp9mKINiu2KfYsdis2YogKNin2YXYp9ix2KfYqiky2KjYrti0INmF2YfZhtiv2LPZiiDaqdin2YXZvtmK2YjYqtixKNin2YXYp9ix2KfYqiku2KjYrti0INmF2YfZhtiv2LPZiiDZhdi52YXYp9ix2Yoo2KfZhdin2LHYp9iqKS/YqNiu2LQg2YXYr9mK2LHZitiqINii2YXZiNiy2LTZiiAo2KfZhdin2LHYp9iqKSLYqNiu2LQg2KfZgtiq2LXYp9ivICjYp9mF2KfYsdin2KopINio2K7YtCDYudmF2LHYp9mGICjYp9mF2KfYsdin2KopJNio2K7YtCDYrdmC2YjZgiDYrNiy2Kco2KfZhdin2LHYp9iqKR/YqNiu2LQg2LnZhdmI2YXZiijYp9mF2KfYsdin2KopEdio2K7YtCDYudmF2YjZhdmKD9io2K7YtCDYrdmC2YjZgg3YqNiu2LQg2KjYsdmCJtio2K7YtCDYqtmD2YbZiNmE2YjamNmKINin2LfZhNin2LnYp9iqF9io2K7YtCDaqdin2YXZvtmK2YjYqtixINio2K7YtCDYstio2KfZhtmH2KfZiiDYrtin2LHYrNmKJNio2K7YtCDZhdiv2YrYsdmK2Kog2KzZh9in2Ybar9ix2K/Zih7YqNiu2LQg2LnZhNmI2YUg2KfZgtiq2LXYp9iv2YoVvgEBMAQyOTAzBDI5MDEEMjkwMgQxMDAyBDEwMDMEMTAwNAQxMTAxBDExMDIEMTEwMwQxMTA0BDExMDUEMTEwNgQxMjAxBDEyMDIEMTIwMwQxMjA0BDEyMDUEMTIwNgQxMjA3BDEyMDgEMTIxMAQxMjExBDEyMTIEMTIxMwQxMzAxBDEzMDIEMTMwMwQxMzA0BDEzMDUEMTMwNgQxMzA3BDEzMDgEMTMwOQQxMzEwBDEzMTEEMTMxMgQxNDAxBDE0MDIEMTQwMwQxNDA0BDE0MDUEMTQwNgQxNDA3BDE0MDgEMTQwOQQxNDEwBDE1MDEEMTUwMgQxNTAzBDE1MDQEMTUwNQQxNTA2BDE2MDEEMTYwMgQxNjAzBDE2MDQEMTYwNQQxNzAxBDE3MDIEMTcwMwQxNzA0BDE3MDUEMTcwNgQxNzA3BDE4MDEEMTkwMQQyMjAxBDIyMDIEMjIwMwQyMjA0BDIyMDUEMjMwMQQyMzAyBDIzMDMEMjMwNAQyMzA1BDI0MDEEMjQwMgQyNDAzBDI1MDEEMjgwMQQyODAyBDI4MDMEMzAwMQQzMDAyBDMxMDEEMzIwMQQzMjAyBDMyMDMEMzIwNAQzNDAxBDM0MDIEMzQwMwQzNTAxBDM1MDIEMzUwMwQzNjAxBDIwMDEEMjAwMgQyMDAzBDIwMDQEMjAwNQQyMDA2BDIxMDEEMjEwMgQyMTAzBDI2MDEEMjYwMgQyNjAzBDI2MDQEMjYwNQQyNjA2BDI2MDcEMjYwOAQyNjA5BDI2MTAEMjYxMQQyNjEyBDI2MTMEMjYxNAQyNjE1BDI2MTYEMjYxNwQyNjE4BDI2MTkEMjYyMAQyNjIxBDI2MjIEMjYyMwQyNjI0BDI2MjUEMjYyNgQyNjI3BDI2MjgEMjYyOQQyNjMwBDI2MzEEMjYzMgQyNjMzBDI2MzQEMjYzNQQyNjM2BDI2MzcEMjYzOAQyNjM5BDI2NDAEMjY0MQQyNjQyBDI2NDMEMjY0NAQyNjQ1BDI2NDYEMjY0NwQyNjQ4BDI2NDkEMjY1MAQyNjUxBDI2NTIEMjY1MwQyNjU0BDI2NTUEMjY1NgQyNjU3BDI2NTgEMjY1OQQzMzAxBDMzMDIEMzMwMwQzMzA0BDMzMDUEMzMwNgQzMzA3BDMzMDgEMzMwOQQzMzEwBDMzMTEEMzMxMgQzMzEzBDMzMTQEMzMxNQQzMzE2BDI3MDEEMjcwMgQyNzAzBDI3MDQEMjcwNQQyNzA2BDI3MDcEMjcwOBQrA74BZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2RkZKNwTYHaNaf+/7aRARPvLeL4bE0fgflK1mRBv79Y2vQM',
        '__VIEWSTATEGENERATOR': 'D02604AD',
        '__EVENTVALIDATION': '/wEdAAUWacXzPwYA4kjPQRBvqfn26/R1CdSTRgr1D4vCUegGUZFB0O/9E5xLpcfo0i3k0CuMtpATfle4RqQS6XMgMUtAS1f8aOOWPGzSVWaY7KNHgNtNq35++RmKySqZ94u0NjeNgfX1GFSW15FDEIBgfZUa',
        'Banner1:zzChanel': '',
        'edSemester': SEMESTER,
        'edDepartment': department_id,
        'Channel': 'Act=List;'
    }

    response = requests.post('https://sess.shirazu.ac.ir/Sess/3564883227030', headers=headers, data=data)

    soup = BeautifulSoup(response.text, "html.parser")
    courses_div = soup.find("div", {'id': "edList"})
    dep_courses = {}
    for course_tr in courses_div.contents:
        if course_tr == '\n':
            continue
        dep_courses[course_tr['ident']] = {
            'title': course_tr.contents[3].text,
            'group': course_tr['ident'].split('^')[1],
        }

    # Get department course times
    i = 0
    for course_ident in dep_courses.keys():
        print(str(i) + '/' + str(len(dep_courses)), dep_progress)
        dep_courses[course_ident].update(get_course_time_room(course_ident, department_id))
        i += 1
    f = open(SEMESTER + '/' + department_id + '.txt', 'w')
    f.write(json.dumps(dep_courses))
    f.close()


def get_courses():
    print('Getting Courses')
    f = open('departments' + SEMESTER + '.txt', 'r')
    departments = json.loads(f.read())
    f.close()

    for dep_index in range(0, len(departments)):
        dep_progress = str(dep_index) + '/' + str(len(departments))
        get_department_courses(departments[dep_index]['id'], dep_progress)


def set_session_course(course_ident, department_id):
    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'origin': 'https://sess.shirazu.ac.ir',
        'upgrade-insecure-requests': '1',
        'content-type': 'application/x-www-form-urlencoded',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3564883227030',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=liftc5qftg4u1qw04op5xrmm',
        'dnt': '1',
    }

    data = {
        '__VIEWSTATE': '/wEPDwUKLTMzODEzMDYyOQ9kFgICAQ9kFgYCAQ9kFgoCBQ8WAh4JaW5uZXJodG1sBSvYudmE2Yog2YXZh9iv2Yog2YrYp9ixICAq2YbYsdmFINin2YHYstin2LEqZAIHDxYCHwAFUtin2KrYtdin2YQg2KfYsiDYt9ix2YrZgjrYtNio2qnZhyDYr9in2K7ZhNmKLdio2K7YtCDaqdin2YXZvtmK2YjYqtixIEVORy0yLUNTRS1MQU5kAgkPZBYCAgEPZBYCZg8WAh8ABQbbtdu427NkAgsPFgIeB1Zpc2libGVoZAINDxYCHwAFGTxiPtux27Pbudu4L9uw27Yv27DbuTwvYj5kAgMPEGQQFa8BAi0tDdiv2YjZhSAtIDEzOTgN2KfZiNmEIC0gMTM5OBXYqtin2KjYs9iq2KfZhiAtIDEzOTgN2K/ZiNmFIC0gMTM5Nw3Yp9mI2YQgLSAxMzk3Fdiq2KfYqNiz2KrYp9mGIC0gMTM5Nw3Yr9mI2YUgLSAxMzk2Ddin2YjZhCAtIDEzOTYV2KrYp9io2LPYqtin2YYgLSAxMzk2Ddiv2YjZhSAtIDEzOTUN2KfZiNmEIC0gMTM5NRXYqtin2KjYs9iq2KfZhiAtIDEzOTUN2K/ZiNmFIC0gMTM5NA3Yp9mI2YQgLSAxMzk0Fdiq2KfYqNiz2KrYp9mGIC0gMTM5NA3Yr9mI2YUgLSAxMzkzDdin2YjZhCAtIDEzOTMV2KrYp9io2LPYqtin2YYgLSAxMzkzDdiv2YjZhSAtIDEzOTIN2KfZiNmEIC0gMTM5MhXYqtin2KjYs9iq2KfZhiAtIDEzOTIN2K/ZiNmFIC0gMTM5MQ3Yp9mI2YQgLSAxMzkxFdiq2KfYqNiz2KrYp9mGIC0gMTM5MQ3Yr9mI2YUgLSAxMzkwDdin2YjZhCAtIDEzOTAV2KrYp9io2LPYqtin2YYgLSAxMzkwDdiv2YjZhSAtIDEzODkN2KfZiNmEIC0gMTM4ORXYqtin2KjYs9iq2KfZhiAtIDEzODkN2K/ZiNmFIC0gMTM4OA3Yp9mI2YQgLSAxMzg4Fdiq2KfYqNiz2KrYp9mGIC0gMTM4OA3Yr9mI2YUgLSAxMzg3Ddin2YjZhCAtIDEzODcV2KrYp9io2LPYqtin2YYgLSAxMzg3Ddiv2YjZhSAtIDEzODYN2KfZiNmEIC0gMTM4NhXYqtin2KjYs9iq2KfZhiAtIDEzODYN2K/ZiNmFIC0gMTM4NQ3Yp9mI2YQgLSAxMzg1Fdiq2KfYqNiz2KrYp9mGIC0gMTM4NQ3Yr9mI2YUgLSAxMzg0Ddin2YjZhCAtIDEzODQV2KrYp9io2LPYqtin2YYgLSAxMzg0Ddiv2YjZhSAtIDEzODMN2KfZiNmEIC0gMTM4MxXYqtin2KjYs9iq2KfZhiAtIDEzODMN2K/ZiNmFIC0gMTM4Mg3Yp9mI2YQgLSAxMzgyFdiq2KfYqNiz2KrYp9mGIC0gMTM4Mg3Yr9mI2YUgLSAxMzgxDdin2YjZhCAtIDEzODEV2KrYp9io2LPYqtin2YYgLSAxMzgxDdiv2YjZhSAtIDEzODAN2KfZiNmEIC0gMTM4MBXYqtin2KjYs9iq2KfZhiAtIDEzODAN2K/ZiNmFIC0gMTM3OQ3Yp9mI2YQgLSAxMzc5Fdiq2KfYqNiz2KrYp9mGIC0gMTM3OQ3Yr9mI2YUgLSAxMzc4Ddin2YjZhCAtIDEzNzgV2KrYp9io2LPYqtin2YYgLSAxMzc4Ddiv2YjZhSAtIDEzNzcN2KfZiNmEIC0gMTM3NxXYqtin2KjYs9iq2KfZhiAtIDEzNzcN2K/ZiNmFIC0gMTM3Ng3Yp9mI2YQgLSAxMzc2Fdiq2KfYqNiz2KrYp9mGIC0gMTM3Ng3Yr9mI2YUgLSAxMzc1Ddin2YjZhCAtIDEzNzUV2KrYp9io2LPYqtin2YYgLSAxMzc1Ddiv2YjZhSAtIDEzNzQN2KfZiNmEIC0gMTM3NBXYqtin2KjYs9iq2KfZhiAtIDEzNzQN2K/ZiNmFIC0gMTM3Mw3Yp9mI2YQgLSAxMzczFdiq2KfYqNiz2KrYp9mGIC0gMTM3Mw3Yr9mI2YUgLSAxMzcyDdin2YjZhCAtIDEzNzIV2KrYp9io2LPYqtin2YYgLSAxMzcyDdiv2YjZhSAtIDEzNzEN2KfZiNmEIC0gMTM3MRXYqtin2KjYs9iq2KfZhiAtIDEzNzEN2K/ZiNmFIC0gMTM3MA3Yp9mI2YQgLSAxMzcwFdiq2KfYqNiz2KrYp9mGIC0gMTM3MA3Yr9mI2YUgLSAxMzY5Ddin2YjZhCAtIDEzNjkV2KrYp9io2LPYqtin2YYgLSAxMzY5Ddiv2YjZhSAtIDEzNjgN2KfZiNmEIC0gMTM2OBXYqtin2KjYs9iq2KfZhiAtIDEzNjgN2K/ZiNmFIC0gMTM2Nw3Yp9mI2YQgLSAxMzY3Fdiq2KfYqNiz2KrYp9mGIC0gMTM2Nw3Yr9mI2YUgLSAxMzY2Ddin2YjZhCAtIDEzNjYV2KrYp9io2LPYqtin2YYgLSAxMzY2Ddiv2YjZhSAtIDEzNjUN2KfZiNmEIC0gMTM2NRXYqtin2KjYs9iq2KfZhiAtIDEzNjUN2K/ZiNmFIC0gMTM2NA3Yp9mI2YQgLSAxMzY0Fdiq2KfYqNiz2KrYp9mGIC0gMTM2NA3Yr9mI2YUgLSAxMzYzDdin2YjZhCAtIDEzNjMV2KrYp9io2LPYqtin2YYgLSAxMzYzDdiv2YjZhSAtIDEzNjIN2KfZiNmEIC0gMTM2MhXYqtin2KjYs9iq2KfZhiAtIDEzNjIN2K/ZiNmFIC0gMTM2MQ3Yp9mI2YQgLSAxMzYxFdiq2KfYqNiz2KrYp9mGIC0gMTM2MQ3Yr9mI2YUgLSAxMzYwDdin2YjZhCAtIDEzNjAV2KrYp9io2LPYqtin2YYgLSAxMzYwDdiv2YjZhSAtIDEzNTkN2KfZiNmEIC0gMTM1ORXYqtin2KjYs9iq2KfZhiAtIDEzNTkN2K/ZiNmFIC0gMTM1OA3Yp9mI2YQgLSAxMzU4Fdiq2KfYqNiz2KrYp9mGIC0gMTM1OA3Yr9mI2YUgLSAxMzU3Ddin2YjZhCAtIDEzNTcV2KrYp9io2LPYqtin2YYgLSAxMzU3Ddiv2YjZhSAtIDEzNTYN2KfZiNmEIC0gMTM1NhXYqtin2KjYs9iq2KfZhiAtIDEzNTYN2K/ZiNmFIC0gMTM1NQ3Yp9mI2YQgLSAxMzU1Fdiq2KfYqNiz2KrYp9mGIC0gMTM1NQ3Yr9mI2YUgLSAxMzU0Ddin2YjZhCAtIDEzNTQV2KrYp9io2LPYqtin2YYgLSAxMzU0Ddiv2YjZhSAtIDEzNTMN2KfZiNmEIC0gMTM1MxXYqtin2KjYs9iq2KfZhiAtIDEzNTMN2K/ZiNmFIC0gMTM1Mg3Yp9mI2YQgLSAxMzUyFdiq2KfYqNiz2KrYp9mGIC0gMTM1Mg3Yr9mI2YUgLSAxMzUxDdin2YjZhCAtIDEzNTEV2KrYp9io2LPYqtin2YYgLSAxMzUxDdiv2YjZhSAtIDEzNTAN2KfZiNmEIC0g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2K/Ys9mKINmF2K7Yp9io2LHYp9iqINmIINin2YTZg9iq2LHZiNmG2YrZgw/YqNiu2LQg2YXZiNin2K8c2KjYrti0INi02YrZhdmKINmF2YfZhtiv2LPZihHYqNiu2LQg2LnZhdix2KfZhhrYqNiu2LQg2LLZitiz2Kog2LTZhtin2LPZihzYqNiu2LQg2LLZhdmK2YDZhiDYtNmG2KfYs9mKEdio2K7YtCDYsdmK2KfYttmKD9io2K7YtCDYp9mF2KfYsQ/YqNiu2LQg2LTZitmF2YoR2KjYrti0INmB2YrYstmK2YMk2KjYrti0INin2YLZgNiq2LXYp9iv2YXZhtit2YQg2LTYr9mHLtio2K7YtCDYqNmA2LHZhtin2YXZhyDYsdmK2LLZiiDZhdmG2K3ZhCDYtNiv2YcT2KjYrti0INiq2YDYp9ix2YrYrivYqNiu2LQg2LHZiNin2YbYtNmG2YDYp9iz2Yog2YXZhtit2YQg2LTYr9mHK9io2K7YtCDYstio2YDYp9mGINmI2KfYr9io2YrYp9iqINmB2KfYsdiz2Yo42KjYrti0INiy2KjZgNin2YbZh9in2Yog2K7Yp9ix2KzZiiDZiNiy2KjYp9mGINi02YbYp9iz2Yoy2KjYrti0INi52YTZgNmI2YUg2YPYqtin2KjYr9in2LHZiiDZhdmG2K3ZhCDYtNiv2Yc42KjYrti0INmF2K/ZitmA2LHZitiqINmI2K3Ys9in2KjYr9in2LHZiiDZhdmG2K3ZhCDYtNiv2Ycp2KjYrti0ICDYstio2KfZhiDZiCDYp9iv2KjZitin2Kog2LnYsdio2YoV2KjYrti0INis2LrYsdin2YHZitinKtio2K7YtCDZgdmE2LPZgdmHINmIINmD2YTYp9mFINin2LPZhNin2YXZiiTYqNiu2LQg2LnZhNmI2YUg2YLYsdii2YbZiiDZiCDZgdmC2Yck2KjYrti0INi52YTZiNmFINmIINmF2YfZhtiv2LPZiiDYotioHtio2K7YtCDYudmE2YjZhSDYqNin2LrYqNin2YbZiibYqNiu2LQg2LnZhNmI2YUg2Ygg2YXZh9mG2K/Ys9mKINiu2KfZgyvYqNiu2LQg2LLYsdin2LnYqiDZiNin2LXZhNin2K0g2YbYqNin2KrYp9iqGdio2K7YtCDar9mK2KfZh9m+2LLYtNmD2Yoh2KjYrti0INin2YLYqti12KfYr9mD2LTYp9mI2LHYstmKLdio2K7YtCDYqtix2YjZitisINmI2KfZhdmI2LLYtCDZg9i02KfZiNix2LLZihrYqNiu2LQg2LnZhNmA2YjZhSDYr9in2YXZijXYqNiu2LQg2LnZhNmI2YUg2Ygg2YXZh9mG2K/Ys9mKINi12YbYp9mK2Lkg2LrYsNin2YrZiiTYqNiu2LQg2YXZh9mG2K/Ys9mKINio2YrZiNiz2YrYs9iq2YU+2KjYrti0INmF2YfZhtiv2LPZiiDZhdmG2KfYqNi5INi32KjZiti52Yog2Ygg2YXYrdmK2Lcg2LLZitiz2Kod2KjYrti0INio2YrZiNiq2qnZhtmI2YTZiNqY2Yom2KjYrti0INix2YjYp9mG2LTZhtin2LPZiiDYqtix2KjZitiq2Yo42KjYrti0INmF2K/Zitix2YrYqiDZiNio2LHZhtin2YXZhyDYsdmK2LLZiiDYp9mF2YjYsti02Yo/2KjYrti0INin2YXZiNiy2LQg2YjZvtix2YjYsdi0INiv2KjYs9iq2KfZhtmKINmI2b4g2K/YqNiz2KrYp9mGJNio2K7YtCDZg9mI2K/Zg9in2YYg2KfYs9iq2KvZhtin2YrZihrYqNiu2LQg2KrYsdio2YrYqiDYqNiv2YbZih7YqNiu2LQg2LnZhNmI2YUg2KrZgNix2KjZitiq2Yob2KjYrti0INix2YjYp9mG2LTZhtmA2KfYs9mKKNio2K7YtCAq2KrYsdio2YDZitiqINio2K/ZhtmKINi02KjYp9mG2Ycp2KjYrti0INmF2KjYp9mG2Yog2KrYudmE2YrZhSDZiNiq2LHYqNmK2Koz2KjYrti0INi52YTZhSDYp9i32YTYp9i52KfYqiDZiCDYr9in2YbYtCDYtNmG2KfYs9mKHdio2K7YtCDZvtin2KrZiNio2YrZiNmE2YjamNmKGNio2K7YtCDYudmE2YjZhSDZvtin2YrZhyLYqNiu2LQg2LnZhNmI2YUg2K/YsdmF2KfZhtqv2KfZh9mKE9io2K7YtCDYqNmH2K/Yp9i02KoX2KjYrti0INiv2KfZhdm+2LLYtNmD2Yoo2KjYrti0INmF2K/Zitix2YrYqiAg2KjZh9iv2KfYtNiqINiv2KfZhSjYqNiu2LQg2YPYp9ix2K/Yp9mG2Yog2KfZhNmD2KrYsdmI2YbZitmDPdio2K7YtCDZg9in2LHYtNmG2KfYs9mA2Yog2YbYp9m+2YrZiNiz2KrZhyDYp9mE2YPYqtix2YjZhtmK2YMz2KjYrti0INmD2KfYsdiv2KfZhtmKINi02KjYp9mG2Ycg2KfZhNmD2KrYsdmI2YbZitmDQNio2K7YtCDZg9in2LHYtNmG2KfYs9mKINi02Kgg2YbYp9m+2YrZiNiz2KrZhyDYp9mE2YPYqtix2YjZhtmK2YMm2KjYrti0INmD2YbYqtix2YQg2YjYp9io2LLYp9ix2K/ZgtmK2YIP2KjYrti0INit2YLZiNmCGtio2K7YtCDYrdmC2YjZgiDYtNio2KfZhtmHGtio2K7YtCDYrdmC2YjZgiDYudmF2YjZhdmKGtio2K7YtCDYrdmC2YjZgiDYrti12YjYtdmKIdio2K7YtCDYrdmC2YjZgiDYqNmK2YYg2KfZhNmF2YTZhBrYqNiu2LQg2LnZhNmI2YUg2LPZitin2LPZiiLYqNiu2LQg2KzYstinINmIINis2LHZhSDYtNmG2KfYs9mKEdio2K7YtCDZitin2LPZiNisHtio2K7YtCDYqtmI2YTZitiv2KfYqiDYr9in2YXZihPYqNiu2LQg2YXYudmF2KfYsdmKDdio2K7YtCDZh9mG2LEV2KjYrti0INi02YfYsdiz2KfYstmKINio2K7YtCDYp9ix2KrYqNin2Lcg2KrYtdmI2YrYsdmKDdio2K7YtCDZgdix2LQT2KjYrti0INin2YLYqti12KfYrx7YqNiu2LQg2LnZhNmI2YUg2KfYrNiq2YXYp9i52YoU2KjYrti0INmF2K/Zitix2YrYqiAX2KjYrti0INit2LPYp9io2K/Yp9ix2YoV2KjYrti0INis2LrYsdin2YHZitinHNio2K7YtCDZhdmH2YbYr9iz2Yog2LTZitmF2Yoa2KjYrti0INmF2YfZhtiv2LPZiiDZhtmB2Koa2KjYrti0INmF2YfZhtiv2LPZiiDar9in2LIg2KjYrti0INmF2YfZhdin2YYg2KrYp9io2LPYqtin2YYg2KjYrti0INiv2KfZhti02q/Yp9mHINi02YrYsdin2LIa2KjYrti0INi52YTZiNmFINm+2LLYtNqp2YoY2KjYrti0INio2K/ZiNmGINix2LTYqtmHJdio2K7YtCDZhtin2YbZiCDZhdmH2YbYr9iz2Yog2LTZitmF2Yoo2KjYrti0INmG2KfZhtmI2YXZh9mG2K/Ys9mKINmF2qnYp9mG2YraqSTYqNiu2LQg2YXYr9mK2LHZitiqINis2YfYp9mG2q/Ysdiv2Yot2KjYrti0INmF2YfZhtiv2LPZiiDZhdmD2KfZhtmK2YMg2KzYp9mF2K/Yp9iqO9io2K7YtCDZhdmH2YbYr9iz2Yog2YXZg9in2YbZitmDINit2LHYp9ix2Kog2Ygg2LPZitin2YTYp9iqL9io2K7YtCDZhdmH2YbYr9iz2Yog2KfZhtix2pjZiiDZiCDZh9mI2Kcg2YHYttinIdio2K7YtCDZhdmH2YbYr9iz2Yog2YfYs9iq2Ycg2KfZiirYqNiu2LQg2YHZhNiz2YHZhyDZiCDZg9mE2KfZhSDYp9iz2YTYp9mF2Yoi2KjYrti0INi52YTZiNmFINmC2LHYotmGINmIINmB2YLZhx7YqNiu2LQg2YXYudin2LHZgSDYp9iz2YTYp9mF2Yoh2KjYrti0INiz2KfYstmHINmIINm+2YrYtNix2KfZhti0KNio2K7YtCDZh9mK2K/YsdmIINin2YrYsdmI2K/ZitmG2KfZhdmK2qkf2KjYrti0INmH2K/Yp9mK2Kog2Ygg2qnZhtiq2LHZhD/YqNiu2LQg2YXYsdqp2LIg2KrYrdmC2YrZgtin2Kog2K3ZhdmEINmIINmG2YLZhCDZiCDYqtix2KfZgdmK2qkn2KjYrti0INmD2LTYp9mI2LHYstmKINmA2K/Yp9ix2KfYqCDZgNmCLdio2K7YtCDYqtmI2YTZitiv2KfYqiDar9mK2KfZh9mKINmA2K/Yp9ix2KfYqDPYqNiu2LQg2KrZg9mG2YDZiNmE2YjamNmKINin2KjZitin2LHZiiDZgNiv2KfYsdin2Kg12KjYrti0INiq2YPZhtmI2YTZiNqY2Yog2YXYsdiq2Lkg2YjYp9io2K7Zitiy2K/Yp9ix2YoY2KjYrti0INi52YTZiNmFINm+2KfZitmHHdio2K7YtCDYp9qv2LHZiNin2qnZiNmE2YjamNmKIdio2K7YtCDZgdin2LHYs9mKINmAINmD2KfYstix2YjZhiDYqNiu2LQg2YHZitiy2YraqSAt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ttinINmIINin2YbYsdqY2Yo72KjYrti0INmF2YfZhtiv2LPZiiDZhdqp2KfZhtmK2qkg2K3Ysdin2LHYqiDZiCDYs9mK2KfZhNin2Kod2KjYrti0INmC2K/YsdiqINmIINmD2YbYqtix2YQN2KjYrti0INmH2YbYsSfYqNiu2LQg2YXYr9mK2LHZitiqINio2YfYr9in2LTYqiDYr9in2YUi2KjYrti0INmF2K/Zitix2YrYqiAo2KfZhdin2LHYp9iqKTTYqNiu2LQg2LHZiNin2YbYtNmG2KfYs9mKINio2KfZhNmK2YbZiijYp9mF2KfYsdin2KopOdio2K7YtCDYstio2KfZhiDZiCDYp9iv2KjZitin2Kog2YHYp9ix2LPZiiAo2KfZhdin2LHYp9iqKSXYqNiu2LQg2K3Ys9in2KjYr9in2LHZiijYp9mF2KfYsdin2KopNdio2K7YtCDYsdmI2KfZhti02YbYp9iz2Yog2KrYsdio2YrYqtmKICjYp9mF2KfYsdin2KopHtio2K7YtCDYrdmC2YjZgiAo2KfZhdin2LHYp9iqKT7YqNiu2LQg2K3ZgtmI2YIg2LnZhdmI2YXZiiDZiCDYqNmK2YYg2KfZhNmF2YTZhCAo2KfZhdin2LHYp9iqKTLYqNiu2LQg2KjYsdmCINmIINin2YTZg9iq2LHZiNmG2YrZgyAo2KfZhdin2LHYp9iqKTDYqNiu2LQg2LLYqNin2YYg2YfYp9mKINiu2KfYsdis2YogKNin2YXYp9ix2KfYqiky2KjYrti0INmF2YfZhtiv2LPZiiDaqdin2YXZvtmK2YjYqtixKNin2YXYp9ix2KfYqiku2KjYrti0INmF2YfZhtiv2LPZiiDZhdi52YXYp9ix2Yoo2KfZhdin2LHYp9iqKS/YqNiu2LQg2YXYr9mK2LHZitiqINii2YXZiNiy2LTZiiAo2KfZhdin2LHYp9iqKSLYqNiu2LQg2KfZgtiq2LXYp9ivICjYp9mF2KfYsdin2KopINio2K7YtCDYudmF2LHYp9mGICjYp9mF2KfYsdin2KopJNio2K7YtCDYrdmC2YjZgiDYrNiy2Kco2KfZhdin2LHYp9iqKR/YqNiu2LQg2LnZhdmI2YXZiijYp9mF2KfYsdin2KopEdio2K7YtCDYudmF2YjZhdmKD9io2K7YtCDYrdmC2YjZgg3YqNiu2LQg2KjYsdmCJtio2K7YtCDYqtmD2YbZiNmE2YjamNmKINin2LfZhNin2LnYp9iqF9io2K7YtCDaqdin2YXZvtmK2YjYqtixINio2K7YtCDYstio2KfZhtmH2KfZiiDYrtin2LHYrNmKJNio2K7YtCDZhdiv2YrYsdmK2Kog2KzZh9in2Ybar9ix2K/Zih7YqNiu2LQg2LnZhNmI2YUg2KfZgtiq2LXYp9iv2YoVvgEBMAQyOTAzBDI5MDEEMjkwMgQxMDAyBDEwMDMEMTAwNAQxMTAxBDExMDIEMTEwMwQxMTA0BDExMDUEMTEwNgQxMjAxBDEyMDIEMTIwMwQxMjA0BDEyMDUEMTIwNgQxMjA3BDEyMDgEMTIxMAQxMjExBDEyMTIEMTIxMwQxMzAxBDEzMDIEMTMwMwQxMzA0BDEzMDUEMTMwNgQxMzA3BDEzMDgEMTMwOQQxMzEwBDEzMTEEMTMxMgQxNDAxBDE0MDIEMTQwMwQxNDA0BDE0MDUEMTQwNgQxNDA3BDE0MDgEMTQwOQQxNDEwBDE1MDEEMTUwMgQxNTAzBDE1MDQEMTUwNQQxNTA2BDE2MDEEMTYwMgQxNjAzBDE2MDQEMTYwNQQxNzAxBDE3MDIEMTcwMwQxNzA0BDE3MDUEMTcwNgQxNzA3BDE4MDEEMTkwMQQyMjAxBDIyMDIEMjIwMwQyMjA0BDIyMDUEMjMwMQQyMzAyBDIzMDMEMjMwNAQyMzA1BDI0MDEEMjQwMgQyNDAzBDI1MDEEMjgwMQQyODAyBDI4MDMEMzAwMQQzMDAyBDMxMDEEMzIwMQQzMjAyBDMyMDMEMzIwNAQzNDAxBDM0MDIEMzQwMwQzNTAxBDM1MDIEMzUwMwQzNjAxBDIwMDEEMjAwMgQyMDAzBDIwMDQEMjAwNQQyMDA2BDIxMDEEMjEwMgQyMTAzBDI2MDEEMjYwMgQyNjAzBDI2MDQEMjYwNQQyNjA2BDI2MDcEMjYwOAQyNjA5BDI2MTAEMjYxMQQyNjEyBDI2MTMEMjYxNAQyNjE1BDI2MTYEMjYxNwQyNjE4BDI2MTkEMjYyMAQyNjIxBDI2MjIEMjYyMwQyNjI0BDI2MjUEMjYyNgQyNjI3BDI2MjgEMjYyOQQyNjMwBDI2MzEEMjYzMgQyNjMzBDI2MzQEMjYzNQQyNjM2BDI2MzcEMjYzOAQyNjM5BDI2NDAEMjY0MQQyNjQyBDI2NDMEMjY0NAQyNjQ1BDI2NDYEMjY0NwQyNjQ4BDI2NDkEMjY1MAQyNjUxBDI2NTIEMjY1MwQyNjU0BDI2NTUEMjY1NgQyNjU3BDI2NTgEMjY1OQQzMzAxBDMzMDIEMzMwMwQzMzA0BDMzMDUEMzMwNgQzMzA3BDMzMDgEMzMwOQQzMzEwBDMzMTEEMzMxMgQzMzEzBDMzMTQEMzMxNQQzMzE2BDI3MDEEMjcwMgQyNzAzBDI3MDQEMjcwNQQyNzA2BDI3MDcEMjcwOBQrA74BZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2RkZKNwTYHaNaf+/7aRARPvLeL4bE0fgflK1mRBv79Y2vQM',
        '__VIEWSTATEGENERATOR': 'D02604AD',
        '__EVENTVALIDATION': '/wEdAAUWacXzPwYA4kjPQRBvqfn26/R1CdSTRgr1D4vCUegGUZFB0O/9E5xLpcfo0i3k0CuMtpATfle4RqQS6XMgMUtAS1f8aOOWPGzSVWaY7KNHgNtNq35++RmKySqZ94u0NjeNgfX1GFSW15FDEIBgfZUa',
        'Banner1:zzChanel': '',
        'edSemester': SEMESTER,
        'edDepartment': department_id,
        'Channel': 'Act=Edit;Ident=' + course_ident + ';'
    }

    response = requests.post('https://sess.shirazu.ac.ir/Sess/3564883227030', headers=headers, data=data)


def get_course_time_room(course_ident, department_id):
    set_session_course(course_ident, department_id)

    headers = {
        'authority': 'sess.shirazu.ac.ir',
        'cache-control': 'max-age=0',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36',
        'sec-fetch-mode': 'navigate',
        'sec-fetch-user': '?1',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3',
        'sec-fetch-site': 'same-origin',
        'referer': 'https://sess.shirazu.ac.ir/Sess/3564883227030',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.9,fa;q=0.8,la;q=0.7',
        'cookie': '__derak_session=c8983283-c7ef-4308-c347-33768890c653; ASP.NET_SessionId=liftc5qftg4u1qw04op5xrmm',
        'dnt': '1',
    }

    response = requests.get('https://sess.shirazu.ac.ir/Sess/3534140226608', headers=headers)
    soup = BeautifulSoup(response.text, "html.parser")
    time_room_div = soup.find("div", {'id': "edTimeRoom"})
    teacher_div = soup.find("div", {'id': "edTch"})
    gender_div = soup.find("div", {'id': "edSex"})
    final_date_div = soup.find("div", {'id': "edFinalDate"})
    return {
        'time_room': '\n'.join([x for x in time_room_div.contents if type(x) is bs4.element.NavigableString]),
        'teacher': teacher_div.text,
        'gender': gender_div.text,
        'final_date': final_date_div.text,
    }


def join_data():
    f = open('departments' + SEMESTER + '.txt', 'r')
    departments = json.loads(f.read())
    f.close()
    final_data = []
    for dep in departments:

        f = open(SEMESTER + '/' + dep['id'] + '.txt', 'r')
        courses = json.loads(f.read())
        f.close()

        courses_final = []
        for c in courses:
            objc = {'ident': '_'.join(c.split('^'))}
            objc.update(courses[c])
            courses_final.append(objc)

        final_data.append({
            'id': dep['id'],
            'title': dep['title'],
            'courses': courses_final
        })

    f = open(SEMESTER + '.txt', 'w')
    f.write(json.dumps(final_data))
    f.close()


# get_departments()
get_courses()
join_data()
